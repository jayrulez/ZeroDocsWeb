<!-- this is a global static patch html file  -->



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->

<!-- Mirrored from zero.digipen.edu/Tutorials/Architecture/Levels.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 28 Dec 2022 00:07:37 GMT -->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Levels &mdash; Zero Engine 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Zero Engine 1.0 documentation" href="../../index-2.html"/>
        <link rel="up" title="Architecture" href="index.html"/>
        <link rel="next" title="Saving and Loading Data" href="ObjectStore.html"/>
        <link rel="prev" title="Spaces" href="Spaces.html"/>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-30697525-2', 'auto');
  ga('send', 'pageview');

</script>



  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index-2.html" class="icon icon-home"> Zero Engine
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="https://zero.digipen.edu/search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference external" href="../../Launcher/ZeroLauncherSetup.html">Download Zero</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GettingStarted/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ZeroManual/index.html">Manual</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../Editor/index.html">Editor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Scripting/index.html">Scripting</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Architecture</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="GameObjects.html">Game Objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="ObjectHierarchies.html">Hierarchies</a></li>
<li class="toctree-l3"><a class="reference internal" href="Hierarchies.html">Hierarchies</a></li>
<li class="toctree-l3"><a class="reference internal" href="HierarchiesInCode.html">Hierarchies in Code</a></li>
<li class="toctree-l3"><a class="reference internal" href="AddingComponents.html">Adding Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="Properties.html">Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="Resources.html">Resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="Archetypes.html">Archetypes</a></li>
<li class="toctree-l3"><a class="reference internal" href="Spaces.html">Spaces</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Levels</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ObjectStore.html">Saving and Loading Data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Gameplay/index.html">Gameplay</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Graphics/index.html">Graphics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Physics/index.html">Physics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Audio/index.html">Audio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../UI/index.html">User Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../AI/index.html">Artificial Intelligence</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Community/index.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Workshops/index.html">Classes &amp; Workshops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Support/index.html">Zero Engine Support</a></li>
<li class="toctree-l1"><a class="reference external" href="https://survey.digipen.edu/survey/index/sid/524363/newtest/Y/lang/en">Feedback Survey</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index-2.html">Zero Engine</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index-2.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Tutorials</a> &raquo;</li>
      
          <li><a href="index.html">Architecture</a> &raquo;</li>
      
    <li>Levels</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/Tutorials/Architecture/Levels.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="searchtitle section" id="levels">
<span id="tutorialslevels"></span><h1>Levels</h1>
<p class="searchdescription">This lesson covers reloading levels, changing levels, duplicating levels, and setting the starting level.</p>
<div class="section" id="learning-objectives">
<span id="tutorialslevelsvocab"></span><h2>Learning Objectives</h2>
<p>Learn to...</p>
<ul class="simple">
<li>Understand the concept of seperate levels.</li>
<li>Load and reload levels.</li>
<li>Delay object destruction.</li>
<li>Set the starting level.</li>
</ul>
<table border="1" class="vocabsection docutils">
<colgroup>
<col width="29%" />
<col width="26%" />
<col width="46%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="3">Vocabulary</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Level</td>
<td>Loading</td>
<td>Starting Level</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="level-setup">
<h2>Level Setup</h2>
<ul class="simple">
<li><a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/LauncherNewProject.html#manualcreatenewproject"><span>Create a New Project</span></a></li>
</ul>
<p><strong>Create a Sprite</strong></p>
<ul class="simple">
<li><a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/Commands.html#manualcommands"><span>Command</span></a> : <code class="docutils literal"><span class="pre">CreateSprite</span></code> or <span class="menuselection">Create ‣ Create Sprite</span></li>
<li>In the Properties Window<ul>
<li><span class="xref std std-ref">Add the RigidBody Component</span></li>
</ul>
</li>
</ul>
<p>Here is what our level should look like:</p>
<p><a class="reference internal" href="../../_images/LWLevel1Setup.png"><img alt="LWLevel1Setup" src="../../_images/LWLevel1Setup.png" style="height: 3.0in;" /></a></p>
<ul class="simple">
<li><a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/SavingProject.html#manualsavingproject"><span>Save the project</span></a> and <a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/RunTheGame.html#manualrunthegame"><span>run the game</span></a></li>
</ul>
<p>The Sprite should fall due to the default gravity in conjunction with our RigidBody component.</p>
<ul class="simple">
<li><a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/StopGame.html#manualstopgame"><span>Stop the Game</span></a></li>
</ul>
</div>
<div class="section" id="renaming-a-level">
<h2>Renaming a Level</h2>
<ul>
<li><p class="first">In the Library Window</p>
<blockquote>
<div><ul>
<li><p class="first">Under the Level tag</p>
<blockquote>
<div><ul>
<li><p class="first"><code class="docutils literal"><span class="pre">Right</span> <span class="pre">Click</span></code> on Level</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">Left</span> <span class="pre">Click</span></code> on Rename</li>
<li>Set the Name to: <code class="docutils literal"><span class="pre">Level1</span></code></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/SavingProject.html#manualsavingproject"><span>Save the project</span></a></p>
</li>
</ul>
</div>
<div class="section" id="reloading-a-level">
<h2>Reloading a Level</h2>
<p>Now we will go over reloading the currently loaded level in code.</p>
<ul>
<li><p class="first"><a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/ResourceAdding.html#manualresourceadding"><span>Add a new ZilchScript resource</span></a> named: <code class="docutils literal"><span class="pre">GameLogic</span></code></p>
</li>
<li><p class="first">In the <strong>GameLogic</strong> script</p>
<ul>
<li><p class="first">Update the <strong>GameLogic</strong> class with the following code:</p>
<ul class="simple">
<li>Update the <strong>Initialize</strong> function with the following code:</li>
</ul>
<div class="highlight-as"><div class="highlight"><pre><span></span>  <span class="kd">function</span> <span class="nx">Initialize</span><span class="p">(</span><span class="nx">init</span> <span class="o">:</span> <span class="nx">CogInitializer</span><span class="p">)</span>
  <span class="p">{</span>
<span class="hll">    <span class="c1">// Connect to Keyboard events.</span>
</span><span class="hll">    <span class="nx">Zero</span><span class="p">.</span><span class="nx">Connect</span><span class="p">(</span><span class="nx">Zero</span><span class="p">.</span><span class="nb">Keyboard</span><span class="o">,</span> <span class="nx">Events</span><span class="p">.</span><span class="nx">KeyUp</span><span class="o">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">OnKeyUp</span><span class="p">);</span>
</span>  <span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li>Add the <strong>OnKeyUp</strong> function with the following code:</li>
</ul>
<div class="highlight-as"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">OnKeyUp</span><span class="p">(</span><span class="nx">event</span> <span class="o">:</span> <span class="nb">KeyboardEvent</span><span class="p">)</span>
<span class="p">{</span>
  <span class="c1">// When Space is pressed,</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nb">Key</span> <span class="o">==</span> <span class="nx">Keys</span><span class="p">.</span><span class="nx">Space</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">// reload the level.</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">Space</span><span class="p">.</span><span class="nx">ReloadLevel</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</li>
</ul>
<p>In this code we are calling the Space&#8217;s <strong>ReloadLevel</strong> function to reload the currently loaded level when Space is pressed on the keyboard.</p>
<ul class="simple">
<li><a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/SelectObject.html#manualselectobject"><span>Select the LevelSettings object</span></a></li>
<li>In the Properties Window<ul>
<li><span class="xref std std-ref">Add the GameLogic component</span></li>
</ul>
</li>
<li><a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/SavingProject.html#manualsavingproject"><span>Save the project</span></a> and <a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/RunTheGame.html#manualrunthegame"><span>run the game</span></a></li>
</ul>
<p>The Sprite will fall. Pressing the Space will reload the level.</p>
<ul class="simple">
<li><a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/StopGame.html#manualstopgame"><span>Stop the Game</span></a></li>
</ul>
</div>
<div class="section" id="adding-levels">
<h2>Adding Levels</h2>
<p>Creating a new level is similar to creating a new ZilchScript.</p>
<ul>
<li><p class="first"><a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/ResourceAdding.html#manualresourceadding"><span>Add a new Level resource</span></a> named: <code class="docutils literal"><span class="pre">Level2</span></code></p>
<p><a class="reference internal" href="../../_images/AddLevel2.png"><img alt="AddLevel2" src="../../_images/AddLevel2.png" style="height: 3.0in;" /></a></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Left</span> <span class="pre">Click</span></code> the Create button</li>
</ul>
</li>
</ul>
<p>The newly created level should now be the level you are editing in the editor.</p>
<p><strong>Create two sprites</strong></p>
<ul class="simple">
<li><a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/Commands.html#manualcommands"><span>Command</span></a> : <code class="docutils literal"><span class="pre">CreateSprite</span></code> or <span class="menuselection">Create ‣ Create Sprite</span></li>
<li>In the Properties Window<ul>
<li><span class="xref std std-ref">Add the RigidBody Component</span></li>
</ul>
</li>
<li>Press <code class="docutils literal"><span class="pre">Ctrl</span> <span class="pre">+</span> <span class="pre">D</span></code> to duplicate the object</li>
<li>In the Properties Window<ul>
<li>Under Transform<ul>
<li>Set Translation to: <code class="docutils literal"><span class="pre">[2,0,0]</span></code></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Here is what the level should look like:</p>
<p><a class="reference internal" href="../../_images/Level2Screenshot.png"><img alt="Level2Screenshot" src="../../_images/Level2Screenshot.png" style="height: 2.5in;" /></a></p>
<ul class="simple">
<li><a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/SavingProject.html#manualsavingproject"><span>Save the project</span></a> and <a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/RunTheGame.html#manualrunthegame"><span>run the game</span></a></li>
</ul>
<p>This level has 2 sprites so that we know it&#8217;s Level2. The Sprite objects are falling, but when we press Space, the level doesn&#8217;t reload. This is because the newly created level doesn&#8217;t have our GameLogic component attached to the LevelSettings object. <em>Making an archetype for the LevelSettings object is NOT what we want to do here</em> because the LevelSettings object is a special object that is handled internally, and doing so <strong>will cause undefined behavior.</strong> This can be avoided by simply making a template level and then duplicating it, but for now let&#8217;s just do it from scratch.</p>
<ul>
<li><p class="first"><a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/StopGame.html#manualstopgame"><span>Stop the Game</span></a></p>
</li>
<li><p class="first"><a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/SelectObject.html#manualselectobject"><span>Select the LevelSettings object</span></a></p>
</li>
<li><p class="first">In the Properties Window</p>
<ul class="simple">
<li><span class="xref std std-ref">Add the GameLogic component</span></li>
</ul>
<p><a class="reference internal" href="../../_images/AddGameLogic.png"><img alt="AddGameLogic" src="../../_images/AddGameLogic.png" style="height: 2.0in;" /></a></p>
</li>
</ul>
<p>The LevelSettings object in Level2 should have the same properties as LevelSettings object in Level1:</p>
<p><img alt="SameProperties" src="../../_images/SameProperties.png" /></p>
<ul class="simple">
<li><a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/SavingProject.html#manualsavingproject"><span>Save the project</span></a> and <a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/RunTheGame.html#manualrunthegame"><span>run the game</span></a></li>
</ul>
<p>The level should now be able to be reset just like in Level1.</p>
<ul class="simple">
<li><a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/StopGame.html#manualstopgame"><span>Stop the Game</span></a></li>
</ul>
</div>
<div class="section" id="changing-levels">
<h2>Changing Levels</h2>
<p>Now we will go over changing from one level to another. The Space&#8217;s <strong>LoadLevel</strong> member function accepts a Level Resource. We can find the Levels by looking them up by name like we do with Archetypes, using the <strong>Find</strong> function. The Space&#8217;s <strong>CurrentLevel</strong> member returns the current level&#8217;s Level Resource.</p>
<ul class="simple">
<li>In the <strong>GameLogic</strong> script<ul>
<li>Update the <strong>GameLogic</strong> class with the following code:<ul>
<li>Update <strong>GameLogic</strong> &#8216;s class member variables with the following code:</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="highlight-as"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nx">GameLogic</span> <span class="o">:</span> <span class="nx">ZilchComponent</span>
<span class="p">{</span>
<span class="hll">  <span class="c1">// Get the Levels to compare against:</span>
</span><span class="hll">  <span class="c1">// --Since the level resources already exist, it is</span>
</span><span class="hll">  <span class="c1">// --much more performant to grab and store a reference to them than</span>
</span><span class="hll">  <span class="c1">// --to keep asking the engine to Find it every LogicUpdate.</span>
</span><span class="hll">  <span class="k">var</span> <span class="nx">Level1</span><span class="o">:</span> <span class="nx">Level</span> <span class="o">=</span> <span class="nx">Level</span><span class="p">.</span><span class="nx">Find</span><span class="p">(</span><span class="s2">&quot;Level1&quot;</span><span class="p">);</span>
</span><span class="hll">  <span class="k">var</span> <span class="nx">Level2</span><span class="o">:</span> <span class="nx">Level</span> <span class="o">=</span> <span class="nx">Level</span><span class="p">.</span><span class="nx">Find</span><span class="p">(</span><span class="s2">&quot;Level2&quot;</span><span class="p">);</span>
</span></pre></div>
</div>
<ul class="simple">
<li><ul class="first">
<li><ul class="first">
<li>Update <strong>GameLogic</strong> &#8216;s <strong>OnKeyUp</strong> function to the following code:</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="highlight-as"><div class="highlight"><pre><span></span>  <span class="kd">function</span> <span class="nx">OnKeyUp</span><span class="p">(</span><span class="nx">event</span> <span class="o">:</span> <span class="nb">KeyboardEvent</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">// When Space is pressed,</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nb">Key</span> <span class="o">==</span> <span class="nx">Keys</span><span class="p">.</span><span class="nx">Space</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="c1">// reload the level.</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">Space</span><span class="p">.</span><span class="nx">ReloadLevel</span><span class="p">();</span>
    <span class="p">}</span>
<span class="hll">    <span class="c1">// If we press the right arrow:</span>
</span><span class="hll">    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nb">Key</span> <span class="o">==</span> <span class="nx">Keys</span><span class="p">.</span><span class="nx">Right</span><span class="p">)</span>
</span><span class="hll">    <span class="p">{</span>
</span><span class="hll">      <span class="c1">// Get the name of the currently loaded level:</span>
</span><span class="hll">      <span class="k">var</span> <span class="nx">currentLevelName</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">Space</span><span class="p">.</span><span class="nx">CurrentLevel</span><span class="o">;</span>
</span><span class="hll">
</span><span class="hll">      <span class="c1">// If we are on Level1,</span>
</span><span class="hll">      <span class="k">if</span> <span class="p">(</span><span class="nx">currentLevelName</span> <span class="o">==</span> <span class="k">this</span><span class="p">.</span><span class="nx">Level1</span><span class="p">)</span>
</span><span class="hll">      <span class="p">{</span>
</span><span class="hll">        <span class="c1">// switch to Level2.</span>
</span><span class="hll">        <span class="k">this</span><span class="p">.</span><span class="nx">Space</span><span class="p">.</span><span class="nx">LoadLevel</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">Level2</span><span class="p">);</span>
</span><span class="hll">      <span class="p">}</span>
</span><span class="hll">      <span class="c1">// Otherwise, if we are on Level2</span>
</span><span class="hll">      <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">currentLevelName</span> <span class="o">==</span> <span class="k">this</span><span class="p">.</span><span class="nx">Level2</span><span class="p">)</span>
</span><span class="hll">      <span class="p">{</span>
</span><span class="hll">        <span class="c1">// switch to Level1.</span>
</span><span class="hll">        <span class="k">this</span><span class="p">.</span><span class="nx">Space</span><span class="p">.</span><span class="nx">LoadLevel</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">Level1</span><span class="p">);</span>
</span><span class="hll">      <span class="p">}</span>
</span><span class="hll">    <span class="p">}</span>
</span>  <span class="p">}</span>
</pre></div>
</div>
<p>This code gets the name of the current level and checks if it is Level1 or Level2. Then it loads the other level. In other words, if Level1 is the current level, then Level2 will be loaded, and if Level2 is the current level, then Level1 will be loaded.</p>
<ul class="simple">
<li><a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/SavingProject.html#manualsavingproject"><span>Save the project</span></a> and <a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/RunTheGame.html#manualrunthegame"><span>run the game</span></a></li>
</ul>
<p>Pressing the Right arrow key on the keyboard will switch between the two levels. We have one sprite in Level1, and we have two sprites in Level2.</p>
<ul class="simple">
<li><a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/StopGame.html#manualstopgame"><span>Stop the Game</span></a></li>
</ul>
</div>
<div class="section" id="duplicating-levels">
<span id="tutorialslevelduplicating"></span><h2>Duplicating Levels</h2>
<p>We have renamed the level that is created by default, and we added a brand new level. Now we will go over duplicating or making a copy of a level that already exists.</p>
<ul>
<li><p class="first">In the Library Window</p>
<ul>
<li><p class="first">Under the Level tag</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">Right</span> <span class="pre">Click</span></code> on Level2</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Left</span> <span class="pre">Click</span></code> Duplicate</li>
</ul>
<p><img alt="DuplicateLevel" src="../../_images/DuplicateLevel.png" /></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>A copy of Level2 should be created:</p>
<p><img alt="LevelCopied" src="../../_images/LevelCopied.png" /></p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">Right</span> <span class="pre">Click</span></code> on Level2Copy1</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">Left</span> <span class="pre">Click</span></code> on Rename</p>
<ul class="simple">
<li>Set the Name to: <code class="docutils literal"><span class="pre">Level3</span></code></li>
</ul>
<p><img alt="RenameLevelCopied" src="../../_images/RenameLevelCopied.png" /></p>
</li>
</ul>
</li>
<li><p class="first"><a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/SavingProject.html#manualsavingproject"><span>Save the project</span></a></p>
<blockquote>
<div><p><img alt="RenamedLevel3" src="../../_images/RenamedLevel3.png" /></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Double</span> <span class="pre">Left</span> <span class="pre">Click</span></code> on Level3 to open it for editing</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/SelectObject.html#manualselectobject"><span>Select Sprite</span></a></p>
</li>
<li><p class="first">Press <code class="docutils literal"><span class="pre">Ctrl</span> <span class="pre">+</span> <span class="pre">D</span></code> to duplicate the object</p>
</li>
<li><p class="first">In the Properties Window</p>
<ul class="simple">
<li>Set Translation to: <code class="docutils literal"><span class="pre">[-2,</span> <span class="pre">0,</span> <span class="pre">0]</span></code></li>
</ul>
</li>
</ul>
<p>We now have 3 sprites in the level so that we know it is level 3 just by looking at it:</p>
<p><a class="reference internal" href="../../_images/Level3Screenshot.png"><img alt="Level3Screenshot" src="../../_images/Level3Screenshot.png" style="height: 3.0in;" /></a></p>
<ul class="simple">
<li><a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/SavingProject.html#manualsavingproject"><span>Save the project</span></a> and <a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/RunTheGame.html#manualrunthegame"><span>run the game</span></a></li>
</ul>
<p>The sprites fall and we are able to restart the level with the Space, but pressing the right arrow key on the keyboard isn&#8217;t doing what it used to do. This is because our logic only accounted for the first two levels and switching back and forth between them.</p>
<ul class="simple">
<li><a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/StopGame.html#manualstopgame"><span>Stop the Game</span></a></li>
<li>In the <strong>GameLogic</strong> script<ul>
<li>Update the <strong>GameLogic</strong> class with the following code:<ul>
<li>Update <strong>GameLogic</strong> &#8216;s class member variables with the following code:</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="highlight-as"><div class="highlight"><pre><span></span>  <span class="k">var</span> <span class="nx">Level2</span><span class="o">:</span> <span class="nx">Level</span> <span class="o">=</span> <span class="nx">Level</span><span class="p">.</span><span class="nx">Find</span><span class="p">(</span><span class="s2">&quot;Level2&quot;</span><span class="p">);</span>
<span class="hll">  <span class="k">var</span> <span class="nx">Level3</span><span class="o">:</span> <span class="nx">Level</span> <span class="o">=</span> <span class="nx">Level</span><span class="p">.</span><span class="nx">Find</span><span class="p">(</span><span class="s2">&quot;Level3&quot;</span><span class="p">);</span>
</span></pre></div>
</div>
<ul class="simple">
<li><ul class="first">
<li><ul class="first">
<li>Update <strong>GameLogic</strong> &#8216;s <strong>OnKeyUp</strong> function to the following code:</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="highlight-as"><div class="highlight"><pre><span></span>  <span class="kd">function</span> <span class="nx">OnKeyUp</span><span class="p">(</span><span class="nx">event</span> <span class="o">:</span> <span class="nb">KeyboardEvent</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">// When Space is pressed,</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nb">Key</span> <span class="o">==</span> <span class="nx">Keys</span><span class="p">.</span><span class="nx">Space</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="c1">// reload the level.</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">Space</span><span class="p">.</span><span class="nx">ReloadLevel</span><span class="p">();</span>
    <span class="p">}</span>
<span class="hll">    <span class="c1">// If we press 1,</span>
</span><span class="hll">    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nb">Key</span> <span class="o">==</span> <span class="nx">Keys</span><span class="p">.</span><span class="nx">One</span><span class="p">)</span>
</span><span class="hll">    <span class="p">{</span>
</span><span class="hll">      <span class="c1">// load Level1.</span>
</span><span class="hll">      <span class="k">this</span><span class="p">.</span><span class="nx">Space</span><span class="p">.</span><span class="nx">LoadLevel</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">Level1</span><span class="p">);</span>
</span><span class="hll">    <span class="p">}</span>
</span><span class="hll">    <span class="c1">// Otherwise, if we press 2,</span>
</span><span class="hll">    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nb">Key</span> <span class="o">==</span> <span class="nx">Keys</span><span class="p">.</span><span class="nx">Two</span><span class="p">)</span>
</span><span class="hll">    <span class="p">{</span>
</span><span class="hll">      <span class="c1">// load Level2.</span>
</span><span class="hll">      <span class="k">this</span><span class="p">.</span><span class="nx">Space</span><span class="p">.</span><span class="nx">LoadLevel</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">Level2</span><span class="p">);</span>
</span><span class="hll">    <span class="p">}</span>
</span><span class="hll">    <span class="c1">// Otherwise, if we press 3,</span>
</span><span class="hll">    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nb">Key</span> <span class="o">==</span> <span class="nx">Keys</span><span class="p">.</span><span class="nx">Three</span><span class="p">)</span>
</span><span class="hll">    <span class="p">{</span>
</span><span class="hll">      <span class="c1">// load Level3.</span>
</span><span class="hll">      <span class="k">this</span><span class="p">.</span><span class="nx">Space</span><span class="p">.</span><span class="nx">LoadLevel</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">Level3</span><span class="p">);</span>
</span><span class="hll">    <span class="p">}</span>
</span>  <span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/SavingProject.html#manualsavingproject"><span>Save the project</span></a> and <a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/RunTheGame.html#manualrunthegame"><span>run the game</span></a></li>
</ul>
<p>Now pressing the numbers <code class="docutils literal"><span class="pre">1</span></code>, <code class="docutils literal"><span class="pre">2</span></code>, and <code class="docutils literal"><span class="pre">3</span></code> keys will load Level1, Level2, and Level3 respectively.</p>
<ul class="simple">
<li><a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/StopGame.html#manualstopgame"><span>Stop the Game</span></a></li>
</ul>
</div>
<div class="section" id="delayed-destruction">
<h2>Delayed Destruction</h2>
<p>When loading or reloading a level in a space the objects that are being cleaned up have their deletion delayed until the next frame.
This means that code searching for items in the new level before the next frame run the risk of either finding nothing, or finding an instance that is about to be destroyed <em>instead of the one about to be created.</em></p>
<p>We&#8217;ll demonstrate this by changing the colors of our sprites.</p>
<blockquote>
<div><ul class="simple">
<li>Update the <strong>GameLogic</strong> class with the following code:<ul>
<li>Update <strong>GameLogic</strong> &#8216;s class member variables with the following code:</li>
</ul>
</li>
</ul>
</div></blockquote>
<div class="highlight-as"><div class="highlight"><pre><span></span>  <span class="k">var</span> <span class="nx">Level3</span><span class="o">:</span> <span class="nx">Level</span> <span class="o">=</span> <span class="nx">Level</span><span class="p">.</span><span class="nx">Find</span><span class="p">(</span><span class="s2">&quot;Level3&quot;</span><span class="p">);</span>

<span class="hll">  <span class="p">[</span><span class="nx">Static</span><span class="p">]</span>
</span><span class="hll">  <span class="k">var</span> <span class="nx">Orange</span><span class="o">:</span> <span class="nx">Real4</span> <span class="o">=</span> <span class="nx">Real4</span><span class="p">(</span><span class="mf">1.0</span><span class="o">,</span> <span class="mf">0.27</span><span class="o">,</span> <span class="mf">0.0</span><span class="o">,</span> <span class="mf">1.0</span><span class="p">);</span>
</span><span class="hll">  <span class="p">[</span><span class="nx">Static</span><span class="p">]</span>
</span><span class="hll">  <span class="k">var</span> <span class="nx">Blue</span><span class="o">:</span> <span class="nx">Real4</span> <span class="o">=</span> <span class="nx">Real4</span><span class="p">(</span><span class="mf">0.0</span><span class="o">,</span> <span class="mf">0.27</span><span class="o">,</span> <span class="mf">1.0</span><span class="o">,</span> <span class="mf">1.0</span><span class="p">);</span>
</span><span class="hll">  <span class="p">[</span><span class="nx">Static</span><span class="p">]</span>
</span><span class="hll">  <span class="k">var</span> <span class="nx">Green</span><span class="o">:</span> <span class="nx">Real4</span> <span class="o">=</span> <span class="nx">Real4</span><span class="p">(</span><span class="mf">0.27</span><span class="o">,</span> <span class="mf">1.0</span><span class="o">,</span> <span class="mf">0.0</span><span class="o">,</span> <span class="mf">1.0</span><span class="p">);</span>
</span><span class="hll">  <span class="p">[</span><span class="nx">Static</span><span class="p">]</span>
</span><span class="hll">  <span class="k">var</span> <span class="nx">Pink</span><span class="o">:</span> <span class="nx">Real4</span> <span class="o">=</span> <span class="nx">Real4</span><span class="p">(</span><span class="mf">1.0</span><span class="o">,</span> <span class="mf">0.0</span><span class="o">,</span> <span class="mf">0.27</span><span class="o">,</span> <span class="mf">1.0</span><span class="p">);</span>
</span></pre></div>
</div>
<ul class="simple">
<li><ul class="first">
<li><ul class="first">
<li>Update <strong>GameLogic</strong> &#8216;s <strong>OnKeyUp</strong> function to the following code:</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="highlight-as"><div class="highlight"><pre><span></span>  <span class="kd">function</span> <span class="nx">OnKeyUp</span><span class="p">(</span><span class="nx">event</span> <span class="o">:</span> <span class="nb">KeyboardEvent</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">// When Space is pressed,</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nb">Key</span> <span class="o">==</span> <span class="nx">Keys</span><span class="p">.</span><span class="nx">Space</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="c1">// reload the level.</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">Space</span><span class="p">.</span><span class="nx">ReloadLevel</span><span class="p">();</span>
<span class="hll">      <span class="k">this</span><span class="p">.</span><span class="nx">Space</span><span class="p">.</span><span class="nx">FindFirstObjectByName</span><span class="p">(</span><span class="s2">&quot;Sprite&quot;</span><span class="p">).</span><span class="nb">Sprite</span><span class="p">.</span><span class="nb">Color</span> <span class="o">=</span> <span class="nx">GameLogic</span><span class="p">.</span><span class="nx">Orange</span><span class="o">;</span>
</span>    <span class="p">}</span>
    <span class="c1">// If we press 1,</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nb">Key</span> <span class="o">==</span> <span class="nx">Keys</span><span class="p">.</span><span class="nx">One</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="c1">// load Level1.</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">Space</span><span class="p">.</span><span class="nx">LoadLevel</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">Level1</span><span class="p">);</span>
<span class="hll">      <span class="k">this</span><span class="p">.</span><span class="nx">Space</span><span class="p">.</span><span class="nx">FindFirstObjectByName</span><span class="p">(</span><span class="s2">&quot;Sprite&quot;</span><span class="p">).</span><span class="nb">Sprite</span><span class="p">.</span><span class="nb">Color</span> <span class="o">=</span> <span class="nx">GameLogic</span><span class="p">.</span><span class="nx">Blue</span><span class="o">;</span>
</span>    <span class="p">}</span>
    <span class="c1">// Otherwise, if we press 2,</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nb">Key</span> <span class="o">==</span> <span class="nx">Keys</span><span class="p">.</span><span class="nx">Two</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="c1">// load Level2.</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">Space</span><span class="p">.</span><span class="nx">LoadLevel</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">Level2</span><span class="p">);</span>
<span class="hll">      <span class="k">this</span><span class="p">.</span><span class="nx">Space</span><span class="p">.</span><span class="nx">FindFirstObjectByName</span><span class="p">(</span><span class="s2">&quot;Sprite&quot;</span><span class="p">).</span><span class="nb">Sprite</span><span class="p">.</span><span class="nb">Color</span> <span class="o">=</span> <span class="nx">GameLogic</span><span class="p">.</span><span class="nx">Green</span><span class="o">;</span>
</span>    <span class="p">}</span>
    <span class="c1">// Otherwise, if we press 3,</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nb">Key</span> <span class="o">==</span> <span class="nx">Keys</span><span class="p">.</span><span class="nx">Three</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="c1">// load Level3.</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">Space</span><span class="p">.</span><span class="nx">LoadLevel</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">Level3</span><span class="p">);</span>
<span class="hll">      <span class="k">this</span><span class="p">.</span><span class="nx">Space</span><span class="p">.</span><span class="nx">FindFirstObjectByName</span><span class="p">(</span><span class="s2">&quot;Sprite&quot;</span><span class="p">).</span><span class="nb">Sprite</span><span class="p">.</span><span class="nb">Color</span> <span class="o">=</span> <span class="nx">GameLogic</span><span class="p">.</span><span class="nx">Pink</span><span class="o">;</span>
</span>    <span class="p">}</span>
  <span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/SavingProject.html#manualsavingproject"><span>Save the project</span></a> and <a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/RunTheGame.html#manualrunthegame"><span>run the game</span></a></li>
</ul>
<p>Press <code class="docutils literal"><span class="pre">1</span></code>, <code class="docutils literal"><span class="pre">2</span></code>, <code class="docutils literal"><span class="pre">3</span></code>, and <code class="docutils literal"><span class="pre">Space</span></code>.</p>
<p><img alt="GifNoColor" src="../../_images/3Levels.gif" /></p>
<p>What you may have noticed is that nothing changed. This is because the sprites whose colors changed were never drawn.
We will solve this by wrapping the call to LoadLevel so that we can work in a new space without worrying about delayed destruction with the space fetched via <code class="docutils literal"><span class="pre">this.Space</span></code>.</p>
<ul>
<li><p class="first">In the <strong>GameLogic</strong> script</p>
<ul>
<li><p class="first">Update the <strong>GameLogic</strong> class with the following code:</p>
<ul class="simple">
<li>Update the <strong>OnKeyUp</strong> function with the following code:</li>
</ul>
<div class="highlight-as"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">OnKeyUp</span><span class="p">(</span><span class="nx">event</span> <span class="o">:</span> <span class="nb">KeyboardEvent</span><span class="p">)</span>
<span class="p">{</span>
  <span class="c1">// When Space is pressed,</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nb">Key</span> <span class="o">==</span> <span class="nx">Keys</span><span class="p">.</span><span class="nx">Space</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">// reload the level.</span>
<span class="hll">    <span class="k">var</span> <span class="nx">space</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">LoadLevel</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">Space</span><span class="p">.</span><span class="nx">CurrentLevel</span><span class="p">);</span>
</span><span class="hll">    <span class="nx">space</span><span class="p">.</span><span class="nx">FindFirstObjectByName</span><span class="p">(</span><span class="s2">&quot;Sprite&quot;</span><span class="p">).</span><span class="nb">Sprite</span><span class="p">.</span><span class="nb">Color</span> <span class="o">=</span> <span class="nx">GameLogic</span><span class="p">.</span><span class="nx">Orange</span><span class="o">;</span>
</span>  <span class="p">}</span>
  <span class="c1">// If we press 1,</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nb">Key</span> <span class="o">==</span> <span class="nx">Keys</span><span class="p">.</span><span class="nx">One</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">// load Level1.</span>
<span class="hll">    <span class="k">var</span> <span class="nx">space</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">LoadLevel</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">Level1</span><span class="p">);</span>
</span><span class="hll">    <span class="nx">space</span><span class="p">.</span><span class="nx">FindFirstObjectByName</span><span class="p">(</span><span class="s2">&quot;Sprite&quot;</span><span class="p">).</span><span class="nb">Sprite</span><span class="p">.</span><span class="nb">Color</span> <span class="o">=</span> <span class="nx">GameLogic</span><span class="p">.</span><span class="nx">Blue</span><span class="o">;</span>
</span>  <span class="p">}</span>
  <span class="c1">// Otherwise, if we press 2,</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nb">Key</span> <span class="o">==</span> <span class="nx">Keys</span><span class="p">.</span><span class="nx">Two</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">// load Level2.</span>
<span class="hll">    <span class="k">var</span> <span class="nx">space</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">LoadLevel</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">Level2</span><span class="p">);</span>
</span><span class="hll">    <span class="nx">space</span><span class="p">.</span><span class="nx">FindFirstObjectByName</span><span class="p">(</span><span class="s2">&quot;Sprite&quot;</span><span class="p">).</span><span class="nb">Sprite</span><span class="p">.</span><span class="nb">Color</span> <span class="o">=</span> <span class="nx">GameLogic</span><span class="p">.</span><span class="nx">Green</span><span class="o">;</span>
</span>  <span class="p">}</span>
  <span class="c1">// Otherwise, if we press 3,</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nb">Key</span> <span class="o">==</span> <span class="nx">Keys</span><span class="p">.</span><span class="nx">Three</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">// load Level3.</span>
<span class="hll">    <span class="k">var</span> <span class="nx">space</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">LoadLevel</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">Level3</span><span class="p">);</span>
</span><span class="hll">    <span class="nx">space</span><span class="p">.</span><span class="nx">FindFirstObjectByName</span><span class="p">(</span><span class="s2">&quot;Sprite&quot;</span><span class="p">).</span><span class="nb">Sprite</span><span class="p">.</span><span class="nb">Color</span> <span class="o">=</span> <span class="nx">GameLogic</span><span class="p">.</span><span class="nx">Pink</span><span class="o">;</span>
</span>  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li>Add the <strong>LoadLevel</strong> function with the following code:</li>
</ul>
<div class="highlight-as"><div class="highlight"><pre><span></span><span class="p">[</span><span class="nx">Property</span><span class="p">]</span>
<span class="k">var</span> <span class="nx">SpaceArchetype</span> <span class="o">:</span> <span class="nx">Archetype</span><span class="o">;</span>

<span class="kd">function</span> <span class="nx">LoadLevel</span><span class="p">(</span><span class="nx">level</span><span class="o">:</span> <span class="nx">Level</span><span class="p">)</span> <span class="o">:</span> <span class="nx">Space</span>
<span class="p">{</span>
  <span class="c1">// Create a new Space to load our level into</span>
  <span class="k">var</span> <span class="nx">space</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">GameSession</span><span class="p">.</span><span class="nx">CreateSpace</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">SpaceArchetype</span><span class="p">);</span>

  <span class="c1">// Load the level passed in</span>
  <span class="nx">space</span><span class="p">.</span><span class="nx">LoadLevel</span><span class="p">(</span><span class="nx">level</span><span class="p">);</span>

  <span class="c1">// Mark the old one for delayed destruction</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">Space</span><span class="p">.</span><span class="nx">Destroy</span><span class="p">();</span>

  <span class="c1">// Pass back the new one to work with</span>
  <span class="k">return</span> <span class="nx">space</span><span class="o">;</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p class="first">In the Properties Window</p>
</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>Under the GameLogic Component</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>Set the property Space Archetype to <cite>Space</cite></li>
</ul>
</div></blockquote>
</div></blockquote>
<ul class="simple">
<li><a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/SavingProject.html#manualsavingproject"><span>Save the project</span></a> and <a class="reference internal" href="../../ZeroManual/Editor/EditorCommands/RunTheGame.html#manualrunthegame"><span>run the game</span></a></li>
</ul>
<p>Press <code class="docutils literal"><span class="pre">1</span></code>, <code class="docutils literal"><span class="pre">2</span></code>, <code class="docutils literal"><span class="pre">3</span></code>, and <code class="docutils literal"><span class="pre">Space</span></code>.</p>
<p><img alt="GifColor" src="../../_images/3LevelsColor.gif" /></p>
<p>Now that we have worked in a new space directly, the sprites in the new level were correctly colored.</p>
</div>
<div class="section" id="setting-the-starting-level-for-the-game">
<h2>Setting the Starting Level for the Game</h2>
<p>What if we wanted a specific level (such as a main menu, intro level, or tutorial level) to be the first level that is loaded when the game starts. In other words, the initial level that is loaded when the user actually runs the game outside of the editor (from the executable or independent of the Zero Engine).</p>
<p>One way of doing this is the <strong>SetAsStartingLevel</strong> command which sets the current level to the starting level. We&#8217;ll set it manually:</p>
<div class="sidebar">
<p class="first sidebar-title">Running the Game</p>
<p>Running the game (F5) always launches <em>the level that was last open for editing.</em>
This is independent of the StartingLevel set on the DefaultGameSetup component.</p>
<p>While the StartingLevel affects the exported game, running the game launches the current level
as a feature to aid in quicker prototyping and testing of these different segments of the game.</p>
<p class="last">Beware, this means if your level depends on code ran in a previous level, it may display bugs that wouldn&#8217;t appear during normal gameplay.</p>
</div>
<ul>
<li><p class="first">In the Level Window</p>
<ul>
<li><p class="first">Press <code class="docutils literal"><span class="pre">Shift+G</span></code></p>
<blockquote>
<div><p><img alt="Game" src="../../_images/Game.png" /></p>
</div></blockquote>
</li>
</ul>
</li>
<li><p class="first">In the Properties Window</p>
<ul class="simple">
<li>Set the StartingLevel to: <code class="docutils literal"><span class="pre">Level3</span></code></li>
</ul>
</li>
</ul>
<p>Level3 now will be the level that is loaded when the game starts outside of the Zero Engine.</p>
<p>Now we know how to restart/reload, change, create, and duplicate levels.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ObjectStore.html" class="btn btn-neutral float-right" title="Saving and Loading Data" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Spaces.html" class="btn btn-neutral" title="Spaces" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, DigiPen Institute of Technology.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org/">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../cdn.mathjax.org/mathjax/latest/MathJaxdda6.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
<script src="../../_static/js/extjquery.js"></script>



</body>

<!-- Mirrored from zero.digipen.edu/Tutorials/Architecture/Levels.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 28 Dec 2022 00:07:41 GMT -->
</html>