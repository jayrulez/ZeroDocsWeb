<!-- this is a global static patch html file  -->



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->

<!-- Mirrored from zero.digipen.edu/Community/Articles/EdgeCatching.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 28 Dec 2022 00:05:35 GMT -->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Edge Catching: Why Players Trip on Flat Ground &mdash; Zero Engine 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Zero Engine 1.0 documentation" href="../../index-2.html"/>
        <link rel="up" title="Articles" href="index.html"/>
        <link rel="next" title="Why is my object not colliding?" href="WhyNoCollision.html"/>
        <link rel="prev" title="Articles" href="index.html"/>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-30697525-2', 'auto');
  ga('send', 'pageview');

</script>



  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index-2.html" class="icon icon-home"> Zero Engine
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="https://zero.digipen.edu/search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference external" href="../../Launcher/ZeroLauncherSetup.html">Download Zero</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GettingStarted/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ZeroManual/index.html">Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Community</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Articles</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Edge Catching: Why Players Trip on Flat Ground</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="WhyNoCollision.html">Why is my object not colliding?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Blogs/index.html">Blogs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Showcase/index.html">Zero Engine Showcase</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Workshops/index.html">Classes &amp; Workshops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Support/index.html">Zero Engine Support</a></li>
<li class="toctree-l1"><a class="reference external" href="https://survey.digipen.edu/survey/index/sid/524363/newtest/Y/lang/en">Feedback Survey</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index-2.html">Zero Engine</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index-2.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Community</a> &raquo;</li>
      
          <li><a href="index.html">Articles</a> &raquo;</li>
      
    <li>Edge Catching: Why Players Trip on Flat Ground</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/Community/Articles/EdgeCatching.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="searchtitle section" id="edge-catching-why-players-trip-on-flat-ground">
<span id="communityedgecatching"></span><h1>Edge Catching: Why Players Trip on Flat Ground</h1>
<p class="searchdescription">This lesson covers the concept of edge catching and how it applies to 2D games.</p>
<div class="section" id="what-edge-catching-is">
<h2>What Edge Catching Is</h2>
<p>Imagine having a player approximated as a rectangle. To keep his animations from looking weird or creating potentially confusing controls, you decide to lock his rotation.</p>
<div class="sidebar">
<p class="first sidebar-title">With rotation locked, it does this:</p>
<p><a class="reference internal" href="../../_images/EdgeCatching_Stuck.png"><img alt="Stuck_PNG" src="../../_images/EdgeCatching_Stuck.png" style="width: 3.25in;" /></a></p>
<p class="last"><em>Player appears inexplicably stuck to the floor</em></p>
</div>
<dl class="docutils">
<dt><strong>As your player moves it might have done this:</strong></dt>
<dd><p class="first"><a class="reference internal" href="../../_images/EdgeCatching_Rotate.png"><img alt="Rotate_PNG" src="../../_images/EdgeCatching_Rotate.png" style="width: 3.25in;" /></a></p>
<p class="last"><em>Notice the player rotating to land face first</em></p>
</dd>
</dl>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
<p>This phenomena is known as <strong>edge</strong> <strong>catching</strong>. Even though there is one ground layer, there are separate colliders. Edge catching occurs at the seams that exist at the boundaries between colliders.</p>
<div class="admonition-let-s-take-a-look-again-at-the-ground-with-the-debug-draw-on-for-our-collision-data admonition">
<p class="first admonition-title">Let&#8217;s take a look again at the ground with the debug draw on for our collision data:</p>
<p><img alt="Seams_PNG" src="../../_images/EdgeCatching_Seams.png" /></p>
<p class="last"><em>The collision boundary, shown here in aqua, form seams where they touch</em></p>
</div>
</div>
<div class="section" id="why-it-happens">
<h2>Why It Happens</h2>
<div class="sidebar">
<p class="first sidebar-title">Quick Physics Primer</p>
<p class="sidebar-subtitle">Box Collider Resolution</p>
<p>When two boxes collide, they are resolved by pushing out of each other by the smallest straight line distance otherwise known as the <em>minimal</em> <em>translational</em> <em>distance</em>.</p>
<p>When one of the boxes is <strong>static</strong>, only one box will be moved when resolving the collision. This makes it easier to visualize the options:</p>
<p><a class="reference internal" href="../../_images/EdgeCatching_PushDown.png"><img alt="PushDown_PNG" src="../../_images/EdgeCatching_PushDown.png" style="width: 1.6in;" /></a> <a class="reference internal" href="../../_images/EdgeCatching_PushUp.png"><img alt="PushUp_PNG" src="../../_images/EdgeCatching_PushUp.png" style="width: 1.6in;" /></a> <a class="reference internal" href="../../_images/EdgeCatching_PushLeft.png"><img alt="PushLeft_PNG" src="../../_images/EdgeCatching_PushLeft.png" style="width: 1.6in;" /></a> <a class="reference internal" href="../../_images/EdgeCatching_PushRight.png"><img alt="PushRight_PNG" src="../../_images/EdgeCatching_PushRight.png" style="width: 1.6in;" /></a></p>
<p><em>The red arrows&#8217; length designates the distance necessary to push the dynamic box so that it no longer collides</em></p>
<p>In the diagram above, the physics engine would push the box up because that option provides the minimal translational distance to resolve collision.</p>
<p class="last">For reasons of stability (think physically simulated stack of boxes), instead of immediately popping objects out of the ground, the physics engine uses forces to push it out over time.</p>
</div>
<p>When the physics engine applies the forces that move your character (to include gravity), the player comes in contact with both colliders making up the ground.</p>
<p><a class="reference internal" href="../../_images/EdgeCatching_Embedded.png"><img alt="Embedded_PNG" src="../../_images/EdgeCatching_Embedded.png" style="width: 3.5in;" /></a></p>
<p>More importantly, the player is coming in contact at the corners of these colliders. Provided the strength of the player and gravity are reasonable, we only have to worry about two possibilities of collision resolution:</p>
<p><strong>1.  The player is penetrating more from the side than from the top.</strong></p>
<blockquote>
<div><p>Looking at an equivalent collision up close we get a situation like this:</p>
<p><a class="reference internal" href="../../_images/EdgeCatching_PushOutTop.png"><img alt="PushOutTop_PNG" src="../../_images/EdgeCatching_PushOutTop.png" style="width: 3.5in;" /></a></p>
<p><em>Red arrow shows minimal translational distance</em></p>
</div></blockquote>
<p>The physics engine determines the best solution is to push the object out the top. This is happens when you walk along your typical ground surface: you stay on top without moving in any other direction.</p>
<p>This happened in our example when our player resolved collision with the left ground collider.</p>
<p><a class="reference internal" href="../../_images/EdgeCatching_LeftCollider.png"><img alt="LeftCollider_PNG" src="../../_images/EdgeCatching_LeftCollider.png" style="width: 3.5in;" /></a></p>
<div class="sidebar">
<p class="first sidebar-title">Quick Physics Primer:</p>
<p class="sidebar-subtitle">Independent Collisions</p>
<p>Every collision is dealt with individually. When three objects collide they are resolved separately.</p>
<p><a class="reference internal" href="../../_images/EdgeCatching_3way.png"><img alt="3way_PNG" src="../../_images/EdgeCatching_3way.png" style="height: .75in;" /></a> <a class="reference internal" href="../../_images/EdgeCatching_becomes.png"><img alt="becomes_PNG" src="../../_images/EdgeCatching_becomes.png" style="width: 0.5in;" /></a> <a class="reference internal" href="../../_images/EdgeCatching_3way1.png"><img alt="3way1_PNG" src="../../_images/EdgeCatching_3way1.png" style="height: .75in;" /></a> <a class="reference internal" href="../../_images/EdgeCatching_3way2.png"><img alt="3way2_PNG" src="../../_images/EdgeCatching_3way2.png" style="height: .75in;" /></a></p>
<p class="last"><em>This 3-way collision is resolved as two separate collisions</em></p>
</div>
<p><strong>2.  The player is penetrating more from the top than from the side.</strong></p>
<blockquote>
<div><p>When the player is further sunk into the ground, however, we can run into this:</p>
<p><a class="reference internal" href="../../_images/EdgeCatching_PushOutSide.png"><img alt="PushOutSide_PNG" src="../../_images/EdgeCatching_PushOutSide.png" style="width: 3.5in;" /></a></p>
<p><em>Red arrow shows how the physics engine with resolve the collision</em></p>
</div></blockquote>
<p>and determine the best solution is to push the player back. Here you can see the the minimal translational distance is actually <em>opposite</em> the direction of travel. Thus instead of moving up to resolve, we are stuck on the edge unable to pass it.</p>
<p>This happened in our example when our player got stuck when resolving collision with the right ground collider.</p>
<p><a class="reference internal" href="../../_images/EdgeCatching_RightCollider.png"><img alt="RightCollider_PNG" src="../../_images/EdgeCatching_RightCollider.png" style="width: 3.5in;" /></a></p>
</div>
<div class="section" id="ways-to-work-around-it">
<h2>Ways To Work Around It</h2>
<div class="section" id="player-as-a-capsule">
<h3>Player As A Capsule</h3>
<p>One easy option for your player is to use a capsule collider.</p>
<p><img alt="Capsule_PNG" src="../../_images/EdgeCatching_Capsule.png" /></p>
<p>The rounded bottom of the capsule collider significantly reduces the possibility of penetrating further along the top than the side when going over flat surfaces.</p>
<p><img alt="CapsuleEffect_PNG" src="../../_images/EdgeCatching_CapsuleEffect.png" /></p>
<p><em>The red arrows show the penetration from the top is less than its rectangular counterpart</em></p>
<p>Although this helps a lot, you&#8217;ll notice that your player will look like he still does little hops as he overcomes the seams in the geometry.</p>
</div>
<div class="section" id="seamless-colliders">
<h3>Seamless Colliders</h3>
<p>As seams are the site of edge catching, it follows that removing them gets rid of the problem.</p>
<div class="section" id="visual-vs-physical-boundaries">
<h4>Visual vs Physical Boundaries</h4>
<p>When game objects share the same behavior, and differ only by visuals, you can group them together in game.</p>
<div class="admonition-consider-the-following admonition">
<p class="first admonition-title">Consider the following</p>
<p>In your level there is a park that turns into a beach shore. The player is unaffected by being either on the sand or grass as it is there just there for atmosphere.</p>
<p class="last">You can reduce the seams by creating a hierarchy for the ground. Make a parent object with children for the sand sprites, grass sprites, and the collider.</p>
</div>
</div>
<div class="section" id="mergeable-tiles">
<h4>Mergeable Tiles</h4>
<p>When using the TileEditor2D tool, tiles that can be merged can do so easily by making sure the Mergeable flag is set to True for the tiles you are painting with. You can check the colliders generated by setting the ShowCollision flag to True.</p>
</div>
</div>
<div class="section" id="swept-player-controller">
<h3>Swept Player Controller</h3>
<p>On the <a class="reference internal" href="../../ZeroManual/Editor/UsingTheVoid.html#manualusingthevoid"><span>Void</span></a> you can find the Swept Controller. Unlike typical physic objects that move first and then resolve collision later, the swept controller uses math to determine where it should stop just before the collision occurs. Since it never collides, it never catches the edge. Beware that this is a more mathematically intensive operation, so it should be used only as necessary.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="WhyNoCollision.html" class="btn btn-neutral float-right" title="Why is my object not colliding?" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Articles" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, DigiPen Institute of Technology.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org/">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../cdn.mathjax.org/mathjax/latest/MathJaxdda6.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
<script src="../../_static/js/extjquery.js"></script>



</body>

<!-- Mirrored from zero.digipen.edu/Community/Articles/EdgeCatching.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 28 Dec 2022 00:05:39 GMT -->
</html>