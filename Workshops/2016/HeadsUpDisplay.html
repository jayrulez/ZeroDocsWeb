<!-- this is a global static patch html file  -->



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->

<!-- Mirrored from zero.digipen.edu/Workshops/2016/HeadsUpDisplay.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 27 Dec 2022 23:52:24 GMT -->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Heads Up Display &mdash; Zero Engine 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Zero Engine 1.0 documentation" href="../../index-2.html"/>
        <link rel="up" title="Video Game Development Level 1 - 2016" href="index.html"/>
        <link rel="next" title="User Interface" href="UserInterface.html"/>
        <link rel="prev" title="Parallax Background" href="ParallaxBackground.html"/>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-30697525-2', 'auto');
  ga('send', 'pageview');

</script>



  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index-2.html" class="icon icon-home"> Zero Engine
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="https://zero.digipen.edu/search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference external" href="../../Launcher/ZeroLauncherSetup.html">Download Zero</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GettingStarted/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ZeroManual/index.html">Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Community/index.html">Community</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Classes &amp; Workshops</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../GAM100/index.html">GAM100</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Proj101/index.html">Project 101</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Video Game Development Level 1 - 2016</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Launcher.html">The Zero Launcher</a></li>
<li class="toctree-l3"><a class="reference internal" href="EditorUI.html">Editor UI</a></li>
<li class="toctree-l3"><a class="reference internal" href="GameObjects.html">Game Objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="AddingComponents.html">Adding Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="VectorMath1.html">Vector Math, part 1</a></li>
<li class="toctree-l3"><a class="reference internal" href="Hierarchies.html">Hierarchies</a></li>
<li class="toctree-l3"><a class="reference internal" href="Resources.html">Resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="PhysicsEffects.html">Regions &amp; Physics Effects</a></li>
<li class="toctree-l3"><a class="reference internal" href="Sprites.html">Sprites</a></li>
<li class="toctree-l3"><a class="reference internal" href="Area.html">Area Component</a></li>
<li class="toctree-l3"><a class="reference internal" href="Text.html">Sprite Text</a></li>
<li class="toctree-l3"><a class="reference internal" href="Scripting1.html">Scripting 1</a></li>
<li class="toctree-l3"><a class="reference internal" href="Scripting2.html">Scripting 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="Scripting3.html">Scripting 3</a></li>
<li class="toctree-l3"><a class="reference internal" href="Scripting4.html">Scripting 4</a></li>
<li class="toctree-l3"><a class="reference internal" href="HierarchiesInCode.html">Hierarchies in Code</a></li>
<li class="toctree-l3"><a class="reference internal" href="Events1.html">Events</a></li>
<li class="toctree-l3"><a class="reference internal" href="Events2.html">Events 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="Events3.html">Events 3</a></li>
<li class="toctree-l3"><a class="reference internal" href="Events4.html">Events 4</a></li>
<li class="toctree-l3"><a class="reference internal" href="CogPaths.html">Cog Paths</a></li>
<li class="toctree-l3"><a class="reference internal" href="Archetypes.html">Archetypes</a></li>
<li class="toctree-l3"><a class="reference internal" href="Spaces.html">Spaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="ObjectCreation.html">Object Creation</a></li>
<li class="toctree-l3"><a class="reference internal" href="VectorMath2.html">Vector Math, part 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="2DRotation.html">2D Rotation</a></li>
<li class="toctree-l3"><a class="reference internal" href="Levels.html">Levels</a></li>
<li class="toctree-l3"><a class="reference internal" href="ParticleEffects.html">Particle Effects</a></li>
<li class="toctree-l3"><a class="reference internal" href="UsingTheSweptController.html">Using the Swept Controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="FollowingCamera.html">Following Camera</a></li>
<li class="toctree-l3"><a class="reference internal" href="AnimatedSpritesSheets.html">Animated Player</a></li>
<li class="toctree-l3"><a class="reference internal" href="TileEditorAndSpriteSheets.html">Tile Editor and Sprite Sheets</a></li>
<li class="toctree-l3"><a class="reference internal" href="SameLevelCheckpoints.html">Level Checkpoints</a></li>
<li class="toctree-l3"><a class="reference internal" href="ParallaxBackground.html">Parallax Background</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Heads Up Display</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="UserInterface.html">User Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="Actions.html">Actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="Audio.html">Audio</a></li>
<li class="toctree-l3"><a class="reference internal" href="ObjectStore.html">Saving and Loading Data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="TeachersGuide.html">Teacher&#8217;s Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2015/index.html">Video Game Development Level 1 - 2015</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2015/TeachersGuide.html">Teacher&#8217;s Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2014/index.html">Introduction to 2D Video Game Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2014/TeachersGuide.html">Teacher&#8217;s Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Support/index.html">Zero Engine Support</a></li>
<li class="toctree-l1"><a class="reference external" href="https://survey.digipen.edu/survey/index/sid/524363/newtest/Y/lang/en">Feedback Survey</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index-2.html">Zero Engine</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index-2.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Classes &amp; Workshops</a> &raquo;</li>
      
          <li><a href="index.html">Video Game Development Level 1 - 2016</a> &raquo;</li>
      
    <li>Heads Up Display</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/Workshops/2016/HeadsUpDisplay.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <!-- this is used as a file for inclusion in other .rst files --><div class="searchtitle section" id="heads-up-display">
<span id="headsupdisplay"></span><h1>Heads Up Display</h1>
<p class="searchdescription">This lesson explains the basics of creating a head&#8217;s up display in the Zero Engine by creating and manipulating two different spaces.</p>
<div class="vocabsection section" id="learning-objectives">
<h2>Learning Objectives</h2>
<ul class="simple">
<li>To gain a deeper understanding of Spaces and how they interact between each other; specifically, the interaction between the &#8220;game space&#8221; and the &#8220;HUD space&#8221;.</li>
<li>Learn how to reference objects in different spaces so that their components&#8211;and the properties and functions within them&#8211;may be accessed and called.</li>
</ul>
<table border="1" class="docutils" id="headsupdisplayvocab">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2">Vocabulary</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>UI</td>
<td>HUD (Heads Up Display)</td>
</tr>
<tr class="row-odd"><td>Area</td>
<td>Space</td>
</tr>
<tr class="row-even"><td>CameraViewport</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="create-a-new-project">
<h2>Create a New Project</h2>
<p><a class="reference internal" href="LauncherNewProject.html#createnewproject"><span>Create a New Project</span></a></p>
</div>
<div class="section" id="level-setup">
<h2>Level Setup</h2>
<ul class="simple">
<li><a class="reference internal" href="SelectObject.html#selectobject"><span>Select LevelSettings</span></a></li>
<li>In the Properties Window<ul>
<li>Under ForwardRenderer<ul>
<li>Set ClearColor to: <code class="docutils literal"><span class="pre">[R:</span> <span class="pre">0,</span> <span class="pre">G:</span> <span class="pre">0,</span> <span class="pre">B:</span> <span class="pre">0,</span> <span class="pre">A:</span> <span class="pre">1.00]</span></code>, <code class="docutils literal"><span class="pre">#000000</span></code></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="SavingProject.html#savingproject"><span>Save the project</span></a> and <a class="reference internal" href="RunTheGame.html#runthegame"><span>run the game</span></a></li>
</ul>
<p>It should look like this:</p>
<p><a class="reference internal" href="../../_images/BlackLevel3.png"><img alt="BlackLevel" src="../../_images/BlackLevel3.png" style="height: 3.0in;" /></a></p>
<p><em>Note that the Level tab says Level:Level.</em></p>
<ul class="simple">
<li><a class="reference internal" href="StopGame.html#stopgame"><span>Stop the Game</span></a></li>
</ul>
<div class="section" id="adding-the-player">
<h3>Adding the Player</h3>
<p>The only <a class="reference internal" href="../../ZeroManual/CodeReference/Reference/Sprite.html#_CPPv26Sprite" title="Sprite"><code class="xref cpp cpp-type docutils literal"><span class="pre">Sprite</span></code></a> we&#8217;ll be adding to this level is for the player. Instead of making the player a square or circle, let&#8217;s use The Void to pick out a <a class="reference internal" href="../../ZeroManual/CodeReference/Reference/SpriteSource.html#_CPPv212SpriteSource" title="SpriteSource"><code class="xref cpp cpp-type docutils literal"><span class="pre">SpriteSource</span></code></a> to use.</p>
<ul class="simple">
<li><a class="reference internal" href="UsingTheVoid.html#usingthevoid"><span>Download the &#8220;PickUpItems&#8221; SpriteSource package from The Void</span></a></li>
<li><a class="reference internal" href="Commands.html#commands"><span>Command</span></a> : <code class="docutils literal"><span class="pre">CreateSprite</span></code> or <span class="menuselection">Create ‣ Create Sprite</span></li>
<li>In the Properties Window<ul>
<li>Set Name to: Player</li>
<li>Under Sprite<ul>
<li>Set SpriteSource to: Any one of the objects in the drop-down list. For the example project in this lesson, I&#8217;ll be using: <code class="docutils literal"><span class="pre">Broccoli</span></code></li>
</ul>
</li>
<li><a class="reference internal" href="AddComponent.html#addcomponent"><span>Add the Area component</span></a></li>
<li>Under Area<ul>
<li>Set Size to: <code class="docutils literal"><span class="pre">[10,</span> <span class="pre">10]</span></code></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="SavingProject.html#savingproject"><span>Save the project</span></a> and <a class="reference internal" href="RunTheGame.html#runthegame"><span>run the game</span></a></li>
</ul>
<p><a class="reference internal" href="../../_images/PlayerInLevel1.png"><img alt="PlayerInLevel" src="../../_images/PlayerInLevel1.png" style="height: 3.0in;" /></a></p>
</div>
<div class="section" id="adding-the-hud-level">
<h3>Adding the HUD Level</h3>
<p>Now let&#8217;s add a new level for our Heads Up Display.</p>
<ul class="simple">
<li><a class="reference internal" href="ResourceAdding.html#resourceadding"><span>Add a new Level resource</span></a> named: <code class="docutils literal"><span class="pre">HUDLevel</span></code></li>
<li><a class="reference internal" href="SelectObject.html#selectobject"><span>Select LevelSettings</span></a></li>
<li>In the Properties Window<ul>
<li>Under ForwardRenderer<ul>
<li>Set ClearColor to: <code class="docutils literal"><span class="pre">[R:</span> <span class="pre">0,</span> <span class="pre">G:</span> <span class="pre">255,</span> <span class="pre">B:</span> <span class="pre">0,</span> <span class="pre">A:</span> <span class="pre">1.00]</span></code>, <code class="docutils literal"><span class="pre">#00FF00</span></code></li>
</ul>
</li>
<li>Under CameraViewport<ul>
<li>Set Layer to: <code class="docutils literal"><span class="pre">1</span></code></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="section" id="creating-the-hud-elements">
<h4>Creating the HUD Elements</h4>
<p>For our HUD, we&#8217;ll need a few things: a <a class="reference internal" href="../../ZeroManual/CodeReference/Reference/Sprite.html#_CPPv26Sprite" title="Sprite"><code class="xref cpp cpp-type docutils literal"><span class="pre">Sprite</span></code></a> for the player&#8217;s health bar, a <a class="reference internal" href="../../ZeroManual/CodeReference/Reference/SpriteText.html#_CPPv210SpriteText" title="SpriteText"><code class="xref cpp cpp-type docutils literal"><span class="pre">SpriteText</span></code></a> to display the player&#8217;s current health, a <a class="reference internal" href="../../ZeroManual/CodeReference/Reference/Sprite.html#_CPPv26Sprite" title="Sprite"><code class="xref cpp cpp-type docutils literal"><span class="pre">Sprite</span></code></a> to act as a button, and one more <a class="reference internal" href="../../ZeroManual/CodeReference/Reference/SpriteText.html#_CPPv210SpriteText" title="SpriteText"><code class="xref cpp cpp-type docutils literal"><span class="pre">SpriteText</span></code></a> to label the button.</p>
<p>We&#8217;ll also need to download one more asset package from The Void. Let&#8217;s do that first.</p>
<ul class="simple">
<li><a class="reference internal" href="UsingTheVoid.html#usingthevoid"><span>Download the &#8220;BasicUI&#8221; SpriteSource package from The Void</span></a></li>
</ul>
<p><strong>The Health Bar</strong></p>
<ul class="simple">
<li><a class="reference internal" href="Commands.html#commands"><span>Command</span></a>: <code class="docutils literal"><span class="pre">CreateSprite</span></code> or <span class="menuselection">Create ‣ Create Sprite</span></li>
<li>In the Properties Window<ul>
<li>Set Name to: <code class="docutils literal"><span class="pre">HealthBar</span></code></li>
<li>Under Sprite<ul>
<li>Set Color to: <code class="docutils literal"><span class="pre">[R:</span> <span class="pre">255,</span> <span class="pre">G:</span> <span class="pre">0,</span> <span class="pre">B:</span> <span class="pre">0,</span> <span class="pre">A:</span> <span class="pre">1.00]</span></code> , <code class="docutils literal"><span class="pre">#FF0000</span></code></li>
</ul>
</li>
<li><a class="reference internal" href="AddComponent.html#addcomponent"><span>Add an Area Component</span></a></li>
<li>Under Area<ul>
<li>Set Size to: <code class="docutils literal"><span class="pre">[8.0,</span> <span class="pre">0.75]</span></code></li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>The Player&#8217;s Health</strong></p>
<ul class="simple">
<li><a class="reference internal" href="Commands.html#commands"><span>Command</span></a>: <code class="docutils literal"><span class="pre">CreateSpriteText</span></code> or <span class="menuselection">Create ‣ Create SpriteText</span></li>
<li>In the Properties window<ul>
<li>Set Name to: HealthText</li>
<li>Under SpriteText<ul>
<li>Set FontSize to: <code class="docutils literal"><span class="pre">80</span></code></li>
<li>Set Text to: <code class="docutils literal"><span class="pre">Health:</span></code></li>
<li>Set Align to: <code class="docutils literal"><span class="pre">Center</span></code></li>
</ul>
</li>
<li><a class="reference internal" href="AddComponent.html#addcomponent"><span>Add an Area Component</span></a></li>
<li>Under Area<ul>
<li>Set Size to: <code class="docutils literal"><span class="pre">[8,</span> <span class="pre">2]</span></code></li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>The Button</strong></p>
<ul class="simple">
<li><a class="reference internal" href="Commands.html#commands"><span>Command</span></a>: <code class="docutils literal"><span class="pre">CreateSprite</span></code> or <span class="menuselection">Create ‣ Create Sprite</span></li>
<li>In the Properties Window<ul>
<li>Set Name to: <code class="docutils literal"><span class="pre">RestartButton</span></code></li>
<li>Under Transform<ul>
<li>Set Translation to: <code class="docutils literal"><span class="pre">[0,</span> <span class="pre">-5,</span> <span class="pre">0]</span></code></li>
</ul>
</li>
<li>Under Sprite<ul>
<li>Set Visible to: <code class="docutils literal"><span class="pre">false</span></code></li>
<li>Set Color to: <code class="docutils literal"><span class="pre">[R:</span> <span class="pre">0,</span> <span class="pre">G:</span> <span class="pre">0,</span> <span class="pre">B:</span> <span class="pre">255,</span> <span class="pre">A:</span> <span class="pre">1.00]</span></code> , <code class="docutils literal"><span class="pre">#0000FF</span></code></li>
<li>Set SpriteSource to: <code class="docutils literal"><span class="pre">Button5</span></code></li>
<li><a class="reference internal" href="AddComponent.html#addcomponent"><span>Add a Reactive Component</span></a></li>
<li><a class="reference internal" href="AddComponent.html#addcomponent"><span>Add an Area Component</span></a></li>
<li>Under Area<ul>
<li>Set Size to: <code class="docutils literal"><span class="pre">[10,</span> <span class="pre">2]</span></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p></p>
<p><strong>The Button Label</strong></p>
<ul class="simple">
<li><a class="reference internal" href="Commands.html#commands"><span>Command</span></a>: <code class="docutils literal"><span class="pre">CreateSpriteText</span></code> or <span class="menuselection">Create ‣ Create SpriteText</span></li>
<li>In the Objects window<ul>
<li><a class="reference internal" href="Hierarchies.html#hierarchies"><span>Parent the newly created SpriteText object to the RestartButton object</span></a></li>
</ul>
</li>
<li>In the Properties window<ul>
<li>Set Name to: RestartText</li>
<li>Under Transform<ul>
<li>Set Translation to: <code class="docutils literal"><span class="pre">[0,</span> <span class="pre">-5,</span> <span class="pre">0]</span></code></li>
</ul>
</li>
<li>Under SpriteText<ul>
<li>Set Visible to: <code class="docutils literal"><span class="pre">false</span></code></li>
<li>Set FontSize to: <code class="docutils literal"><span class="pre">50</span></code></li>
<li>Set Text to: <code class="docutils literal"><span class="pre">Restart</span> <span class="pre">the</span> <span class="pre">Game?</span></code></li>
<li>Set Align to: <code class="docutils literal"><span class="pre">Center</span></code></li>
</ul>
</li>
<li><a class="reference internal" href="AddComponent.html#addcomponent"><span>Add an Area Component</span></a></li>
<li>Under Area<ul>
<li>Set Size to: <code class="docutils literal"><span class="pre">[9,</span> <span class="pre">1]</span></code></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="SavingProject.html#savingproject"><span>Save your project</span></a></li>
</ul>
<p>The HUDLevel window should look like this:</p>
<p><a class="reference internal" href="../../_images/HUDSpritesAndText1.png"><img alt="HUDSpritesAndText" src="../../_images/HUDSpritesAndText1.png" style="height: 3.0in;" /></a></p>
<p>And that&#8217;s all for the level setup. Everything else will come from creating the components to make these pieces work together.</p>
<p></p>
</div>
</div>
</div>
<div class="section" id="making-a-head-s-up-display">
<h2>Making a Head&#8217;s Up Display</h2>
<p>In order to create our head&#8217;s up display, we are going to render one level over the other. Spaces can only have one level loaded at a time, so to make this happen we need to make our own space. The only way to make our own space is through code, so we&#8217;ll need to make a new component to create the space for the HUD.</p>
<ul class="simple">
<li><a class="reference internal" href="ResourceAdding.html#resourceadding"><span>Add a new ZilchScript resource</span></a> named: <code class="docutils literal"><span class="pre">HUDCreator</span></code></li>
<li>In the <strong>HUDCreator</strong> script<ul>
<li>Update the <strong>HUDCreator</strong> class with the following code:</li>
</ul>
</li>
</ul>
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">HUDCreator</span> <span class="p">:</span> <span class="n">ZilchComponent</span>
<span class="p">{</span>
  <span class="c1">// The level that our HUD is contained within</span>
<span class="na">  [Property]</span>
  <span class="kt">var</span> <span class="n">HUDLevel</span> <span class="p">:</span> <span class="n">Level</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>

  <span class="c1">//The space archetype from which to create the new HUD space</span>
<span class="na">  [Property]</span>
  <span class="kt">var</span> <span class="n">SpaceArchetype</span> <span class="p">:</span> <span class="n">Archetype</span> <span class="p">=</span> <span class="n">Archetype</span><span class="p">.</span><span class="n">Find</span><span class="p">(</span><span class="s">&quot;Space&quot;</span><span class="p">);</span>

  <span class="c1">//Reference to the Player object</span>
<span class="na">  [Property]</span>
  <span class="kt">var</span> <span class="n">PlayerRef</span> <span class="p">:</span> <span class="n">CogPath</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>

  <span class="c1">// Store the space where our HUD is so that we can access and destroy it</span>
  <span class="kt">var</span> <span class="n">HUDSpace</span> <span class="p">:</span> <span class="n">Space</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>

  <span class="n">function</span> <span class="nf">Initialize</span><span class="p">(</span><span class="n">init</span> <span class="p">:</span> <span class="n">CogInitializer</span><span class="p">)</span>
  <span class="p">{</span>
      <span class="c1">// Create the HUD space and then load our HUD level into it</span>
      <span class="k">this</span><span class="p">.</span><span class="n">HUDSpace</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">GameSession</span><span class="p">.</span><span class="n">CreateNamedSpace</span><span class="p">(</span><span class="s">&quot;HUDSpace&quot;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="n">SpaceArchetype</span><span class="p">);</span>

      <span class="c1">//Load the level specified in the HUDLevel Property above</span>
      <span class="k">this</span><span class="p">.</span><span class="n">HUDSpace</span><span class="p">.</span><span class="n">LoadLevel</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">HUDLevel</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="n">function</span> <span class="nf">Destroyed</span><span class="p">()</span>
  <span class="p">{</span>
      <span class="c1">// Make sure to clean up the HUD space when we get destroyed</span>
      <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">HUDSpace</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
      <span class="p">{</span>
          <span class="k">this</span><span class="p">.</span><span class="n">HUDSpace</span><span class="p">.</span><span class="n">Destroy</span><span class="p">();</span>
      <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><a class="reference internal" href="SavingProject.html#savingproject"><span>Save the project</span></a></li>
</ul>
<p></p>
<ul class="simple">
<li>In the Library window<ul>
<li>Under Level<ul>
<li>Select and open <code class="docutils literal"><span class="pre">Level</span></code></li>
</ul>
</li>
</ul>
</li>
<li>In the Objects window<ul>
<li><a class="reference internal" href="SelectObject.html#selectobject"><span>Select LevelSettings</span></a></li>
</ul>
</li>
<li>In the Properties window<ul>
<li><a class="reference internal" href="AddComponent.html#addcomponent"><span>Add the HUDCreator Component</span></a></li>
<li>Under HUDCreator<ul>
<li>Set HUDLevel to: <code class="docutils literal"><span class="pre">HUDLevel</span></code></li>
<li>Set PlayerRef by: <a class="reference internal" href="CogPaths.html#cogpaths"><span>choosing the Player object</span></a> or typing <code class="docutils literal"><span class="pre">:/Player</span></code> into the text field</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="SavingProject.html#savingproject"><span>Save the project</span></a> and <a class="reference internal" href="RunTheGame.html#runthegame"><span>run the game</span></a></li>
</ul>
<p>Having set our HUDLevel&#8217;s layer during the Level Setup to 1, we ensured it would render on top of our game. Unfortunately, our HUDLevel <em>completely</em> hides our game:</p>
<p><a class="reference internal" href="../../_images/HUDEclipse3.png"><img alt="HUDEclipse" src="../../_images/HUDEclipse3.png" style="height: 3.0in;" /></a></p>
<ul class="simple">
<li><a class="reference internal" href="StopGame.html#stopgame"><span>Stop the Game</span></a></li>
</ul>
<p></p>
</div>
<div class="section" id="transparent-background">
<h2>Transparent Background</h2>
<p>In order to make our game visible under the HUD level we need to make the HUD level not render its background.</p>
<ul class="simple">
<li>In the Library Window<ul>
<li>Under Level<ul>
<li>Select and open <code class="docutils literal"><span class="pre">HUDLevel</span></code></li>
</ul>
</li>
</ul>
</li>
<li>In the Objects window<ul>
<li><a class="reference internal" href="SelectObject.html#selectobject"><span>Select the LevelSettings object</span></a></li>
</ul>
</li>
<li>In the Properties Window<ul>
<li>Under CameraViewport<ul>
<li>Set Background to: <code class="docutils literal"><span class="pre">False</span></code></li>
</ul>
</li>
</ul>
</li>
<li>In the Library Window<ul>
<li>Under Level<ul>
<li>Select and open <code class="docutils literal"><span class="pre">Level</span></code></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="SavingProject.html#savingproject"><span>Save the project</span></a> and <a class="reference internal" href="RunTheGame.html#runthegame"><span>run the game</span></a></li>
</ul>
<p><a class="reference internal" href="../../_images/GoodHUD3.png"><img alt="GoodHUD" src="../../_images/GoodHUD3.png" style="height: 3.0in;" /></a></p>
<p>Now we have the HUD displaying against our game level.</p>
<ul class="simple">
<li><a class="reference internal" href="StopGame.html#stopgame"><span>Stop the Game</span></a></li>
</ul>
</div>
<div class="section" id="interacting-with-the-head-s-up-display">
<h2>Interacting with the Head&#8217;s Up Display</h2>
<div class="section" id="references-from-the-hud-space">
<h3>References from the HUD Space</h3>
<p>In order to access objects in the head&#8217;s up display we have to ensure we are looking in the correct space. To do this, we&#8217;re going to write a couple of new components. The first one will contain no logic, but only variables so that we can access certain objects from the game space.</p>
<p></p>
<ul class="simple">
<li><a class="reference internal" href="ResourceAdding.html#resourceadding"><span>Add a new ZilchScript resource</span></a> named: <code class="docutils literal"><span class="pre">HUDSpaceReferences</span></code></li>
<li>Update the <code class="docutils literal"><span class="pre">HUDSpaceReferences</span></code> class with the following code:</li>
</ul>
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">HUDSpaceReferences</span> <span class="p">:</span> <span class="n">ZilchComponent</span>
<span class="p">{</span>
  <span class="c1">//Variable to hold the reference to the main space</span>
  <span class="c1">//Set in HUDCreator component</span>
  <span class="kt">var</span> <span class="n">MainSpaceRef</span> <span class="p">:</span> <span class="n">Space</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>

  <span class="c1">//Reference to Health Bar object</span>
<span class="na">  [Property]</span>
  <span class="kt">var</span> <span class="n">HealthBarRef</span> <span class="p">:</span> <span class="n">CogPath</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>

  <span class="c1">//Reference to the Health SpriteText object</span>
<span class="na">  [Property]</span>
  <span class="kt">var</span> <span class="n">HealthTextRef</span> <span class="p">:</span> <span class="n">CogPath</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>

  <span class="c1">//Reference to the Restart button object</span>
<span class="na">  [Property]</span>
  <span class="kt">var</span> <span class="n">RestartButtonRef</span> <span class="p">:</span> <span class="n">CogPath</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>

  <span class="c1">//Reference to the Restart SpriteText object</span>
<span class="na">  [Property]</span>
  <span class="kt">var</span> <span class="n">RestartTextRef</span> <span class="p">:</span> <span class="n">CogPath</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The first variable, <code class="docutils literal"><span class="pre">MainSpaceRef</span></code>, cannot be set from inside the HUD space, so we need to set it in a component inside the game space. We can do this very simply in our <code class="docutils literal"><span class="pre">HUDCreator</span></code> component.</p>
<ul class="simple">
<li>In the <code class="docutils literal"><span class="pre">HUDCreator</span></code> ZilchScript, replace the following:</li>
</ul>
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="nf">Initialize</span><span class="p">(</span><span class="n">init</span> <span class="p">:</span> <span class="n">CogInitializer</span><span class="p">)</span>
<span class="p">{</span>
  <span class="c1">// Create the HUD space and then load our HUD level into it</span>
  <span class="k">this</span><span class="p">.</span><span class="n">HUDSpace</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">GameSession</span><span class="p">.</span><span class="n">CreateNamedSpace</span><span class="p">(</span><span class="s">&quot;HUDSpace&quot;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="n">SpaceArchetype</span><span class="p">);</span>

  <span class="c1">//Load the level specified in the HUDLevel Property above</span>
  <span class="k">this</span><span class="p">.</span><span class="n">HUDSpace</span><span class="p">.</span><span class="n">LoadLevel</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">HUDLevel</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>with this:</p>
<div class="highlight-csharp"><div class="highlight"><pre><span></span> <span class="n">function</span> <span class="nf">Initialize</span><span class="p">(</span><span class="n">init</span> <span class="p">:</span> <span class="n">CogInitializer</span><span class="p">)</span>
 <span class="p">{</span>
   <span class="c1">// Create the HUD space and then load our HUD level into it</span>
   <span class="k">this</span><span class="p">.</span><span class="n">HUDSpace</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">GameSession</span><span class="p">.</span><span class="n">CreateNamedSpace</span><span class="p">(</span><span class="s">&quot;HUDSpace&quot;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="n">SpaceArchetype</span><span class="p">);</span>

   <span class="c1">//Load the level specified in the HUDLevel Property above</span>
   <span class="k">this</span><span class="p">.</span><span class="n">HUDSpace</span><span class="p">.</span><span class="n">LoadLevel</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">HUDLevel</span><span class="p">);</span>

<span class="hll">   <span class="k">this</span><span class="p">.</span><span class="n">HUDSpace</span><span class="p">.</span><span class="n">LevelSettings</span><span class="p">.</span><span class="n">HUDSpaceReferences</span><span class="p">.</span><span class="n">MainSpaceRef</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">Space</span><span class="p">;</span>
</span> <span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><a class="reference internal" href="SavingProject.html#savingproject"><span>Save the project</span></a></li>
</ul>
<p></p>
<p>Now let&#8217;s attach the new component and set the values of all the variables that have the Property attribute</p>
<ul class="simple">
<li>In the Library window<ul>
<li>Under Level<ul>
<li>Select and open <code class="docutils literal"><span class="pre">HUDLevel</span></code></li>
</ul>
</li>
</ul>
</li>
<li>In the Objects window<ul>
<li><a class="reference internal" href="SelectObject.html#selectobject"><span>Select the LevelSettings object</span></a></li>
</ul>
</li>
<li>In the Properties Window<ul>
<li><a class="reference internal" href="AddComponent.html#addcomponent"><span>Add the HUDSpaceReferences Component</span></a></li>
<li>Under HUDSpaceReferences<ul>
<li>Set HealthBarRef by: <a class="reference internal" href="CogPaths.html#cogpaths"><span>choosing the HealthBar object</span></a> or typing <code class="docutils literal"><span class="pre">:/HealthBar</span></code> into the text field</li>
<li>Set HealthTextRef by: <a class="reference internal" href="CogPaths.html#cogpaths"><span>choosing the HealthText object</span></a> or typing <code class="docutils literal"><span class="pre">:/HealthText</span></code> into the text field</li>
<li>Set RestartButtonRef by: <a class="reference internal" href="CogPaths.html#cogpaths"><span>choosing the RestartButton object</span></a> or typing <code class="docutils literal"><span class="pre">:/RestartButton</span></code> into the text field</li>
<li>Set RestartTextRef by: <a class="reference internal" href="CogPaths.html#cogpaths"><span>choosing the RestartText object</span></a> or typing <code class="docutils literal"><span class="pre">:/RestartButton/RestartText</span></code> into the text field</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="SavingProject.html#savingproject"><span>Save the project</span></a></li>
</ul>
<p>By itself, this component does nothing, but it does setup some very important references to the objects in our HUD. Let&#8217;s start interacting with those objects by creating our next component.</p>
</div>
<div class="section" id="changing-the-player-s-health">
<h3>Changing the Player&#8217;s Health</h3>
<p>We want to make a small, interactive game so we can see the HUD updating according to changing conditions in the game. Given what we&#8217;ve setup so far, let&#8217;s make a game where the player can decrease or increase the player&#8217;s health by hitting the left and right arrow keys, respectively (it may not be much of a game, but it&#8217;s something we can work with in the interests of time and space).</p>
<p>As this component will be rather large, let&#8217;s attack it in pieces, covering the initial variables and <code class="docutils literal"><span class="pre">Initialize()</span></code> function first.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>Incomplete Code Ahead</p>
<p class="last">The following code-block <strong>is not</strong> the entire code-block for the <code class="docutils literal"><span class="pre">PlayerHealth</span></code> component. If you cut and paste this code in and try to run it, it will not compile. Before saving and compiling, keep reading through the tutorial until you reach the next code-block. Once you add the code found there to the script, it should save and compile properly.</p>
</div>
<p></p>
<ul class="simple">
<li><a class="reference internal" href="ResourceAdding.html#resourceadding"><span>Add a new ZilchScript resource</span></a> named: <code class="docutils literal"><span class="pre">PlayerHealth</span></code></li>
<li>Update the <code class="docutils literal"><span class="pre">PlayerHealth</span></code> class with the following code:</li>
</ul>
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">PlayerHealth</span> <span class="p">:</span> <span class="n">ZilchComponent</span>
<span class="p">{</span>
  <span class="c1">//The total health of the player at any given time</span>
<span class="na">  [Property]</span>
  <span class="kt">var</span> <span class="n">Health</span> <span class="p">:</span> <span class="n">Real</span> <span class="p">=</span> <span class="m">100.0</span><span class="p">;</span>

  <span class="c1">//Real that stores the health the player starts with</span>
  <span class="kt">var</span> <span class="n">StartHealth</span> <span class="p">:</span> <span class="n">Real</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>

  <span class="c1">//Stores the percentage of max health the player has</span>
  <span class="kt">var</span> <span class="n">HealthPercentage</span> <span class="p">:</span> <span class="n">Real</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>

  <span class="c1">//Real2 that stores the player&#39;s initial size</span>
  <span class="kt">var</span> <span class="n">StartSize</span> <span class="p">:</span> <span class="n">Real2</span> <span class="p">=</span> <span class="n">Real2</span><span class="p">();</span>

  <span class="c1">//Real by which to increment or decrement the Player&#39;s health</span>
<span class="na">  [Property]</span>
  <span class="kt">var</span> <span class="n">HealthScalar</span> <span class="p">:</span> <span class="n">Real</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>

  <span class="c1">//Reference to HUDSpace</span>
  <span class="kt">var</span> <span class="n">HUDSpace</span> <span class="p">:</span> <span class="n">Space</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>

  <span class="c1">//References to the HealthBar, HealthText, Restart Button, and</span>
  <span class="c1">//Restart Text objects in the HUD Space</span>
  <span class="kt">var</span> <span class="n">HealthBar</span> <span class="p">:</span> <span class="n">Cog</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
  <span class="kt">var</span> <span class="n">HealthText</span> <span class="p">:</span> <span class="n">Cog</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
  <span class="kt">var</span> <span class="n">RestartButton</span> <span class="p">:</span> <span class="n">Cog</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
  <span class="kt">var</span> <span class="n">RestartText</span> <span class="p">:</span> <span class="n">Cog</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>

  <span class="n">function</span> <span class="nf">Initialize</span><span class="p">(</span><span class="n">init</span> <span class="p">:</span> <span class="n">CogInitializer</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">//Set StartHealth to the full amount of Health when game starts</span>
    <span class="k">this</span><span class="p">.</span><span class="n">StartHealth</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">Health</span><span class="p">;</span>

    <span class="c1">//Sets players start size to it&#39;s size at the start of the game</span>
    <span class="k">this</span><span class="p">.</span><span class="n">StartSize</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">Owner</span><span class="p">.</span><span class="n">Area</span><span class="p">.</span><span class="n">Size</span><span class="p">;</span>

    <span class="c1">//Reference to the HUDSpace</span>
    <span class="k">this</span><span class="p">.</span><span class="n">HUDSpace</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">Space</span><span class="p">.</span><span class="n">LevelSettings</span><span class="p">.</span><span class="n">HUDCreator</span><span class="p">.</span><span class="n">HUDSpace</span><span class="p">;</span>
    <span class="c1">//Reference to the SpaceReferences component</span>
    <span class="kt">var</span> <span class="n">hudSpaceRefs</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">HUDSpace</span><span class="p">.</span><span class="n">LevelSettings</span><span class="p">.</span><span class="n">HUDSpaceReferences</span><span class="p">;</span>

    <span class="c1">//Reference to the HealthBar,HealthText,RestartButton,and</span>
    <span class="c1">//RestartText objects</span>
    <span class="k">this</span><span class="p">.</span><span class="n">HealthBar</span> <span class="p">=</span> <span class="n">hudSpaceRefs</span><span class="p">.</span><span class="n">HealthBarRef</span><span class="p">.</span><span class="n">Cog</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="n">HealthText</span> <span class="p">=</span> <span class="n">hudSpaceRefs</span><span class="p">.</span><span class="n">HealthTextRef</span><span class="p">.</span><span class="n">Cog</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="n">RestartButton</span> <span class="p">=</span> <span class="n">hudSpaceRefs</span><span class="p">.</span><span class="n">RestartButtonRef</span><span class="p">.</span><span class="n">Cog</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="n">RestartText</span> <span class="p">=</span> <span class="n">hudSpaceRefs</span><span class="p">.</span><span class="n">RestartTextRef</span><span class="p">.</span><span class="n">Cog</span><span class="p">;</span>

    <span class="c1">//Connect to the KeyDown event</span>
    <span class="n">Zero</span><span class="p">.</span><span class="n">Connect</span><span class="p">(</span><span class="n">Zero</span><span class="p">.</span><span class="n">Keyboard</span><span class="p">,</span> <span class="n">Events</span><span class="p">.</span><span class="n">KeyDown</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="n">OnKeyDown</span><span class="p">);</span>
  <span class="p">}</span>
</pre></div>
</div>
<p></p>
<p>Our initial variable is for the player&#8217;s health, which has the Property attribute so that it can be set to whatever value you like within the Property window once the component has been attached to the player. The second variable stores the health at the start of the game so we can use it to derive the player&#8217;s current health percentage, which happens to be the next variable, at any given time in the game. Following that we have the starting size of the player defined as a <code class="xref cpp cpp-type docutils literal"><span class="pre">Real2</span></code>. This is because the <code class="docutils literal"><span class="pre">Size</span></code> property of the <code class="docutils literal"><span class="pre">Area</span></code> component is a <code class="xref cpp cpp-type docutils literal"><span class="pre">Real2</span></code>; should we wish to update it, we&#8217;ll need to provide the entire <code class="xref cpp cpp-type docutils literal"><span class="pre">Real2</span></code>.</p>
<p>The next variable, <code class="docutils literal"><span class="pre">HealthScalar</span></code>, which also has the Property attribute, will let us set how much to decrease or increase the player&#8217;s health on every left or right arrow press. Then we have a reference to the HUDSpace, similar to how we have a reference to the Main space in the <code class="docutils literal"><span class="pre">HUDSpaceReferences</span></code> component. Finally, we have variables to hold references to the four objects we made <code class="docutils literal"><span class="pre">CogPath</span></code> variables for in the <code class="docutils literal"><span class="pre">HUDSpaceReferences</span></code> component.</p>
<p>In the <code class="docutils literal"><span class="pre">Initialize()</span></code> function, we set <code class="docutils literal"><span class="pre">StartHealth</span></code> to the value of <code class="docutils literal"><span class="pre">Health</span></code> and <code class="docutils literal"><span class="pre">StartSize</span></code> to the value of the player&#8217;s Area component&#8217;s <code class="docutils literal"><span class="pre">Size</span></code> property. We set the HUDSpace reference to the <code class="docutils literal"><span class="pre">HUDSpace</span></code> we created in our <code class="docutils literal"><span class="pre">HUDCreator</span></code> component. Then we need to create a new variable to reference the <code class="docutils literal"><span class="pre">HUDSpaceReferences</span></code> component itself so that we can set the references for the four <code class="docutils literal"><span class="pre">HUDLevel</span></code> objects. Finally, as we are going to be using the arrow keys to change the player&#8217;s health, we connect to the <code class="docutils literal"><span class="pre">KeyDown</span></code> event.</p>
<p>Let&#8217;s keep filling out our component by adding the <code class="docutils literal"><span class="pre">OnKeyDown()</span></code> response function and a function to change the player&#8217;s size.</p>
<p></p>
<ul class="simple">
<li>Add the following code to the <code class="docutils literal"><span class="pre">PlayerHealth</span></code> class after the <code class="docutils literal"><span class="pre">Initialize()</span></code> function:</li>
</ul>
<div class="highlight-csharp"><div class="highlight"><pre><span></span>  <span class="n">function</span> <span class="nf">OnKeyDown</span><span class="p">(</span><span class="k">event</span> <span class="p">:</span> <span class="n">KeyboardEvent</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">//Make sure the Player has not already been destroyed</span>
    <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">Owner</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="k">if</span><span class="p">(</span><span class="k">event</span><span class="p">.</span><span class="n">Key</span> <span class="p">==</span> <span class="n">Keys</span><span class="p">.</span><span class="n">Right</span><span class="p">)</span> <span class="c1">//If the Right arrow is pressed...</span>
      <span class="p">{</span>
        <span class="c1">//If the Player&#39;s health is between 0 and 100</span>
        <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">Health</span> <span class="p">&lt;</span> <span class="m">100</span> <span class="p">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="n">Health</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">)</span>
        <span class="p">{</span>
          <span class="c1">//Increment the Player&#39;s health by the value of HealthScalar</span>
          <span class="k">this</span><span class="p">.</span><span class="n">Health</span> <span class="p">+=</span> <span class="k">this</span><span class="p">.</span><span class="n">HealthScalar</span><span class="p">;</span>
        <span class="p">}</span>
      <span class="p">}</span>
      <span class="k">if</span><span class="p">(</span><span class="k">event</span><span class="p">.</span><span class="n">Key</span> <span class="p">==</span> <span class="n">Keys</span><span class="p">.</span><span class="n">Left</span><span class="p">)</span> <span class="c1">//If the Left arrow is pressed...</span>
      <span class="p">{</span>
        <span class="c1">//If the player&#39;s health is greater than 0</span>
        <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">Health</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">)</span>
        <span class="p">{</span>
          <span class="c1">//Decrement the Player&#39;s health by the value of HealthScalar</span>
          <span class="k">this</span><span class="p">.</span><span class="n">Health</span> <span class="p">-=</span> <span class="k">this</span><span class="p">.</span><span class="n">HealthScalar</span><span class="p">;</span>
        <span class="p">}</span>
      <span class="p">}</span>

      <span class="c1">//Current percentage (a Real from 0 - 1) of StartHealth</span>
      <span class="k">this</span><span class="p">.</span><span class="n">HealthPercentage</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">Health</span> <span class="p">/</span> <span class="k">this</span><span class="p">.</span><span class="n">StartHealth</span><span class="p">;</span>

      <span class="c1">//Calls function to change the Player object&#39;s size</span>
      <span class="k">this</span><span class="p">.</span><span class="n">ChangePlayerSize</span><span class="p">();</span>

      <span class="c1">//Calls function to change the Health Bar&#39;s size</span>
      <span class="c1">//this.HealthBar.ChangeHealth.ChangeHealthBar(this.HealthPercentage);</span>

      <span class="c1">//Calls function to change the Health SpriteText&#39;s size</span>
      <span class="c1">//this.HealthBar.ChangeHealth.ChangeHealthText(this.Health);</span>

      <span class="c1">//If the player&#39;s health reaches zero...</span>
      <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">Health</span> <span class="p">&lt;=</span> <span class="m">0</span><span class="p">)</span>
      <span class="p">{</span>
        <span class="c1">//Make player object invisible</span>
        <span class="k">this</span><span class="p">.</span><span class="n">Owner</span><span class="p">.</span><span class="n">Sprite</span><span class="p">.</span><span class="n">Visible</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>

        <span class="c1">//Make HUD objects visible</span>
        <span class="k">this</span><span class="p">.</span><span class="n">RestartButton</span><span class="p">.</span><span class="n">Sprite</span><span class="p">.</span><span class="n">Visible</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="n">RestartText</span><span class="p">.</span><span class="n">SpriteText</span><span class="p">.</span><span class="n">Visible</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="n">function</span> <span class="nf">ChangePlayerSize</span><span class="p">()</span>
  <span class="p">{</span>
    <span class="c1">//Get new player size</span>
    <span class="kt">var</span> <span class="n">newPlayerSize</span> <span class="p">:</span> <span class="n">Real2</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">StartSize</span> <span class="p">*</span> <span class="k">this</span><span class="p">.</span><span class="n">HealthPercentage</span><span class="p">;</span>
    <span class="c1">//Sets the Player&#39;s size to this new size</span>
    <span class="k">this</span><span class="p">.</span><span class="n">Owner</span><span class="p">.</span><span class="n">Area</span><span class="p">.</span><span class="n">Size</span> <span class="p">=</span> <span class="n">newPlayerSize</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The first part of the <code class="docutils literal"><span class="pre">OnKeyDown()</span></code> function is pretty straightforward. We&#8217;re just checking to see if either the left or right arrow key has been pressed, and if one of them has, either decrease (if it&#8217;s the left key) or increase (if it&#8217;s the right key) the player&#8217;s health, as long as the player&#8217;s health is still in between 0 and 100. We then set the current <code class="docutils literal"><span class="pre">HealthPercentage</span></code> as the result of the player&#8217;s current health divided by it&#8217;s starting health. We then make a call to a function directly below the one we&#8217;re in that will change the size of our player object.</p>
<p>We then makes calls to two functions on a component we haven&#8217;t seen yet (which is why they are currently commented out) that will change the player&#8217;s health bar to represent the current health percentage and change the health text to show the numerical value of the player&#8217;s current health. Finally, we check to see if the player&#8217;s health has reached zero or below, and if it has, we make the player&#8217;s <a class="reference internal" href="../../ZeroManual/CodeReference/Reference/Sprite.html#_CPPv26Sprite" title="Sprite"><code class="xref cpp cpp-type docutils literal"><span class="pre">Sprite</span></code></a> invisible and make the Restart button and text objects in the HUD visible.</p>
<p>In the <code class="docutils literal"><span class="pre">ChangePlayerSize()</span></code> function, we create a new variable to store the new player size that&#8217;s set by multiplying the start size by the current health percentage. We then set the <code class="docutils literal"><span class="pre">Size</span></code> property on the player&#8217;s <code class="docutils literal"><span class="pre">Area</span></code> component to that new size, causing the player <a class="reference internal" href="../../ZeroManual/CodeReference/Reference/Sprite.html#_CPPv26Sprite" title="Sprite"><code class="xref cpp cpp-type docutils literal"><span class="pre">Sprite</span></code></a> to grow and shrink as we increase and decrease its health.</p>
<p>Let&#8217;s stop there for now and attach this component to the player object.</p>
<ul class="simple">
<li>In the Library window<ul>
<li>Under Level<ul>
<li>Select and open <code class="docutils literal"><span class="pre">Level</span></code></li>
</ul>
</li>
</ul>
</li>
<li>In the Objects window<ul>
<li><a class="reference internal" href="SelectObject.html#selectobject"><span>Select the Player object</span></a></li>
</ul>
</li>
<li>In the Properties window<ul>
<li><a class="reference internal" href="AddComponent.html#addcomponent"><span>Add the PlayerHealth Component</span></a></li>
<li>Under PlayerHealth<ul>
<li>Set Health to: <code class="docutils literal"><span class="pre">100</span></code></li>
<li>Set HealthScalar to: <code class="docutils literal"><span class="pre">10</span></code></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Before we can run the game and start changing the values of the objects on the HUD, we need to make one more component that will control the properties of those objects.</p>
<p></p>
</div>
</div>
<div class="section" id="sending-information-to-the-hud">
<h2>Sending Information to the HUD</h2>
<p>While we now have all the values we need to change our HUD objects, we have no way of interacting with them yet. Here is where our next component, <code class="docutils literal"><span class="pre">ChangeHealth</span></code>, comes in.</p>
<ul class="simple">
<li><a class="reference internal" href="ResourceAdding.html#resourceadding"><span>Add a new ZilchScript resource</span></a> named: <code class="docutils literal"><span class="pre">ChangeHealth</span></code></li>
<li>Update the <code class="docutils literal"><span class="pre">ChangeHealth</span></code> class with the following code:</li>
</ul>
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">ChangeHealth</span> <span class="p">:</span> <span class="n">ZilchComponent</span>
<span class="p">{</span>
  <span class="c1">//The start size of the Health bar</span>
  <span class="kt">var</span> <span class="n">HealthBarStartSize</span> <span class="p">:</span> <span class="n">Real</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>

  <span class="c1">//Reference to the Health SpriteText</span>
<span class="na">  [Property]</span>
  <span class="kt">var</span> <span class="n">HealthTextPath</span> <span class="p">:</span> <span class="n">CogPath</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>

  <span class="c1">//Real3 to offset of the HealthBar from the Player</span>
<span class="na">  [Property]</span>
  <span class="kt">var</span> <span class="n">HealthBarOffset</span> <span class="p">:</span> <span class="n">Real3</span> <span class="p">=</span> <span class="n">Real3</span><span class="p">();</span>

  <span class="c1">//Real3 to offset the Health SpriteText from the Player</span>
<span class="na">  [Property]</span>
  <span class="kt">var</span> <span class="n">HealthTextOffset</span> <span class="p">:</span> <span class="n">Real3</span> <span class="p">=</span> <span class="n">Real3</span><span class="p">();</span>

  <span class="n">function</span> <span class="nf">Initialize</span><span class="p">(</span><span class="n">init</span> <span class="p">:</span> <span class="n">CogInitializer</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">//Sets start size of health bar to the x-axis size of the health bar</span>
    <span class="k">this</span><span class="p">.</span><span class="n">HealthBarStartSize</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">Owner</span><span class="p">.</span><span class="n">Area</span><span class="p">.</span><span class="n">Size</span><span class="p">.</span><span class="n">X</span><span class="p">;</span>

    <span class="c1">//Offsets the Health bar according to value set in the Property above</span>
    <span class="k">this</span><span class="p">.</span><span class="n">Owner</span><span class="p">.</span><span class="n">Transform</span><span class="p">.</span><span class="n">Translation</span> <span class="p">+=</span> <span class="k">this</span><span class="p">.</span><span class="n">HealthBarOffset</span><span class="p">;</span>

    <span class="c1">//Offsets the Health SpriteText according to the value set in the Property above</span>
    <span class="k">this</span><span class="p">.</span><span class="n">HealthTextPath</span><span class="p">.</span><span class="n">Cog</span><span class="p">.</span><span class="n">Transform</span><span class="p">.</span><span class="n">Translation</span> <span class="p">+=</span> <span class="k">this</span><span class="p">.</span><span class="n">HealthTextOffset</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">//Function to change the size of the health bar based on the</span>
  <span class="c1">//change in health percentage being passed in</span>
  <span class="n">function</span> <span class="nf">ChangeHealthBar</span><span class="p">(</span><span class="n">healthPercentage</span> <span class="p">:</span> <span class="n">Real</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">//Create the new x-axis value of the Area&#39;s size of the Health Bar by</span>
    <span class="c1">//multiplying the healthPercentage value by the bar&#39;s start size</span>
    <span class="kt">var</span> <span class="n">healthBarNewSize</span> <span class="p">=</span> <span class="n">healthPercentage</span> <span class="p">*</span> <span class="k">this</span><span class="p">.</span><span class="n">HealthBarStartSize</span><span class="p">;</span>

    <span class="c1">//Set the Health Bar&#39;s size to the new size</span>
    <span class="k">this</span><span class="p">.</span><span class="n">Owner</span><span class="p">.</span><span class="n">Area</span><span class="p">.</span><span class="n">Size</span> <span class="p">=</span> <span class="n">Real2</span><span class="p">(</span><span class="n">healthBarNewSize</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="n">Owner</span><span class="p">.</span><span class="n">Area</span><span class="p">.</span><span class="n">Size</span><span class="p">.</span><span class="n">Y</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="c1">//Function to the change the Health SpriteText based on the player&#39;s</span>
  <span class="c1">//current health that&#39;s being passed in</span>
  <span class="n">function</span> <span class="nf">ChangeHealthText</span><span class="p">(</span><span class="n">health</span> <span class="p">:</span> <span class="n">Real</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">//Update the Health SpriteText text property with the current player health</span>
    <span class="k">this</span><span class="p">.</span><span class="n">HealthTextPath</span><span class="p">.</span><span class="n">Cog</span><span class="p">.</span><span class="n">SpriteText</span><span class="p">.</span><span class="n">Text</span> <span class="p">=</span> <span class="s">&quot;Health: `health`&quot;</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In short, all we&#8217;re doing here is gaining access to a couple of objects, the health bar and the health text, and changing them to reflect the current state of the player&#8217;s health. You may have noticed that there&#8217;s only a <a class="reference internal" href="../../ZeroManual/CodeReference/Reference/CogPath.html#_CPPv27CogPath" title="CogPath"><code class="xref cpp cpp-type docutils literal"><span class="pre">CogPath</span></code></a> variable for the health text. That&#8217;s because we&#8217;ll be attaching this component directly onto to the health bar itself and can access its components through the <code class="docutils literal"><span class="pre">this.Owner</span></code> syntax.</p>
<p>In our <code class="docutils literal"><span class="pre">Initialize()</span></code> function, besides getting the x-axis (or horizontal in our case) start size of the health bar, we&#8217;re offsetting both the health bar and the health text by the values of variables with Property attributes, meaning we&#8217;ll set them in the Property window once we attach the component. In the <code class="docutils literal"><span class="pre">ChangeHealthBar()</span></code> function, we take the player&#8217;s current health percentage as an argument and use it to find the new size of the health bar by multiplying the the health bar&#8217;s start size by that percentage. We then simply update the &#8220;Size&#8221; property of the health bar&#8217;s <code class="docutils literal"><span class="pre">Area</span></code> component, much like we did with the player&#8217;s <a class="reference internal" href="../../ZeroManual/CodeReference/Reference/Sprite.html#_CPPv26Sprite" title="Sprite"><code class="xref cpp cpp-type docutils literal"><span class="pre">Sprite</span></code></a>. Finally, the <code class="docutils literal"><span class="pre">ChangeHealthText()</span></code> function takes in the player&#8217;s current health as an argument and then updates the &#8220;Text&#8221; property of the health text&#8217;s <code class="docutils literal"><span class="pre">SpriteText</span></code> component.</p>
<p>Now that we have that explained, let&#8217;s hook it up and see if it all works.</p>
<div class="section" id="attaching-the-changehealth-component">
<h3>Attaching the ChangeHealth Component</h3>
<ul class="simple">
<li>In the Library window<ul>
<li>Under Level<ul>
<li>Select and choose &#8220;HUDLevel&#8221;</li>
</ul>
</li>
</ul>
</li>
<li>In the Objects window<ul>
<li><a class="reference internal" href="SelectObject.html#selectobject"><span>Select the HealthBar object</span></a></li>
</ul>
</li>
<li>In the Properties window<ul>
<li><a class="reference internal" href="AddComponent.html#addcomponent"><span>Add the ChangeHealth Component</span></a></li>
<li>Under ChangeHealth<ul>
<li>Set HealthTextpath by: <a class="reference internal" href="CogPaths.html#cogpaths"><span>choosing the HealthText object</span></a> or typing <code class="docutils literal"><span class="pre">:/HealthText</span></code> into the text field</li>
<li>Set HealthBarOffset to: <code class="docutils literal"><span class="pre">[0,</span> <span class="pre">5,</span> <span class="pre">0]</span></code></li>
<li>Set HealthTextOffset to: <code class="docutils literal"><span class="pre">[0,</span> <span class="pre">7,</span> <span class="pre">0]</span></code></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Now all we need to do is uncomment those two lines of code in the <code class="docutils literal"><span class="pre">PlayerHealth</span></code> component and we should be set.</p>
<ul class="simple">
<li>In the <code class="docutils literal"><span class="pre">PlayerHealth</span></code> ZilchScript, replace the following:</li>
</ul>
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="c1">//Calls function to change the Health Bar&#39;s size</span>
<span class="c1">//this.HealthBar.ChangeHealth.ChangeHealthBar(this.HealthPercentage);</span>

<span class="c1">//Calls function to change the Health SpriteText&#39;s size</span>
<span class="c1">//this.HealthBar.ChangeHealth.ChangeHealthText(this.Health);</span>
</pre></div>
</div>
<p>with this:</p>
<div class="highlight-csharp"><div class="highlight"><pre><span></span> <span class="c1">//Calls function to change the Health Bar&#39;s size</span>
<span class="hll"> <span class="k">this</span><span class="p">.</span><span class="n">HealthBar</span><span class="p">.</span><span class="n">ChangeHealth</span><span class="p">.</span><span class="n">ChangeHealthBar</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">HealthPercentage</span><span class="p">);</span>
</span>
 <span class="c1">//Calls function to change the Health SpriteText&#39;s size</span>
<span class="hll"> <span class="k">this</span><span class="p">.</span><span class="n">HealthBar</span><span class="p">.</span><span class="n">ChangeHealth</span><span class="p">.</span><span class="n">ChangeHealthText</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">Health</span><span class="p">);</span>
</span></pre></div>
</div>
<ul class="simple">
<li>Return to the level named <code class="docutils literal"><span class="pre">Level</span></code></li>
<li><a class="reference internal" href="SavingProject.html#savingproject"><span>Save your project</span></a> and <a class="reference internal" href="RunTheGame.html#runthegame"><span>run the game</span></a></li>
</ul>
<p>You should be able to change the player&#8217;s health by pressing the left and right arrows, causing the player sprite and health bar to decrease and increase in size and the health text to reflect the current health.</p>
<p>Now, if you happened to take your player&#8217;s health all the way down to zero, you probably saw that everything disappeared and our restart the game button appeared. Well, providing the functionality for that button will be the last part of this project.</p>
</div>
</div>
<div class="section" id="sending-information-back-to-the-game">
<h2>Sending Information Back to the Game</h2>
<p>Our restart button appears in the HUD only when the player has run out of health. By clicking on that button, we want to effectively restart the game at the same place we started it at. The first thing we&#8217;ll need is a component that checks for mouse events and updates the button accordingly. The component we&#8217;re about to make should hopefully look quite familiar after doing the <a class="reference internal" href="UserInterface.html#userinterface"><span>User Interface</span></a> lesson.</p>
<ul class="simple">
<li><a class="reference internal" href="ResourceAdding.html#resourceadding"><span>Add a new ZilchScript resource</span></a> named: <code class="docutils literal"><span class="pre">Button</span></code></li>
<li>Update the <code class="docutils literal"><span class="pre">Button</span></code> class with the following code:</li>
</ul>
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Button</span> <span class="p">:</span> <span class="n">ZilchComponent</span>
<span class="p">{</span>
  <span class="c1">//Reference for the Player</span>
  <span class="kt">var</span> <span class="n">Player</span> <span class="p">:</span> <span class="n">Cog</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>

  <span class="c1">//Reference for the main space</span>
  <span class="kt">var</span> <span class="n">MainSpace</span> <span class="p">:</span> <span class="n">Space</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>

  <span class="c1">//The Reactive component is required for this component</span>
<span class="na">  [Dependency]</span>
  <span class="kt">var</span> <span class="n">Reactive</span> <span class="p">:</span> <span class="n">Reactive</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>

  <span class="c1">//The default sprite when the button is not hovered over or selected</span>
<span class="na">  [Property]</span>
  <span class="kt">var</span> <span class="n">DefaultSprite</span> <span class="p">:</span> <span class="n">SpriteSource</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>

  <span class="c1">//Color for the Default Sprite</span>
<span class="na">  [Property]</span>
  <span class="kt">var</span> <span class="n">DefaultColor</span> <span class="p">:</span> <span class="n">Real4</span> <span class="p">=</span> <span class="n">Real4</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">);</span>

  <span class="c1">//The sprite to use when hovering over the button with mouse</span>
<span class="na">  [Property]</span>
  <span class="kt">var</span> <span class="n">HoveredSprite</span> <span class="p">:</span> <span class="n">SpriteSource</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>

  <span class="c1">//Color for the Hovered Sprite</span>
<span class="na">  [Property]</span>
  <span class="kt">var</span> <span class="n">HoveredColor</span> <span class="p">:</span> <span class="n">Real4</span> <span class="p">=</span> <span class="n">Real4</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">0</span><span class="p">);</span>

  <span class="c1">//The sprite source to use when the button is clicked</span>
<span class="na">  [Property]</span>
  <span class="kt">var</span> <span class="n">ClickedSprite</span> <span class="p">:</span> <span class="n">SpriteSource</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>

  <span class="c1">//Reference to restart sprite text object</span>
<span class="na">  [Property]</span>
  <span class="kt">var</span> <span class="n">ButtonTextPath</span> <span class="p">:</span> <span class="n">CogPath</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>

  <span class="n">function</span> <span class="nf">Initialize</span><span class="p">(</span><span class="n">init</span> <span class="p">:</span> <span class="n">CogInitializer</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">//Connecting to all the mouse events to use in the UI</span>
    <span class="n">Zero</span><span class="p">.</span><span class="n">Connect</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">Owner</span><span class="p">,</span> <span class="n">Events</span><span class="p">.</span><span class="n">MouseEnter</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="n">OnMouseEnter</span><span class="p">);</span>
    <span class="n">Zero</span><span class="p">.</span><span class="n">Connect</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">Owner</span><span class="p">,</span> <span class="n">Events</span><span class="p">.</span><span class="n">MouseExit</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="n">OnMouseExit</span><span class="p">);</span>
    <span class="n">Zero</span><span class="p">.</span><span class="n">Connect</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">Owner</span><span class="p">,</span> <span class="n">Events</span><span class="p">.</span><span class="n">MouseDown</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="n">OnMouseDown</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="c1">//Responds to the mouse entering the boundaries of the button</span>
  <span class="n">function</span> <span class="nf">OnMouseEnter</span><span class="p">(</span><span class="k">event</span> <span class="p">:</span> <span class="n">ViewportMouseEvent</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="n">HoveredState</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="c1">//Responds to the mouse exiting the boundaries of the button</span>
  <span class="n">function</span> <span class="nf">OnMouseExit</span><span class="p">(</span><span class="k">event</span> <span class="p">:</span> <span class="n">ViewportMouseEvent</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="n">DefaultState</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="c1">//Responds to the clicking of a button on the mouse</span>
  <span class="n">function</span> <span class="nf">OnMouseDown</span><span class="p">(</span><span class="k">event</span> <span class="p">:</span> <span class="n">ViewportMouseEvent</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="n">ClickedState</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="c1">//Returns button to its default sprite source</span>
  <span class="n">function</span> <span class="nf">DefaultState</span><span class="p">()</span>
  <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="n">Owner</span><span class="p">.</span><span class="n">Sprite</span><span class="p">.</span><span class="n">SpriteSource</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">DefaultSprite</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="n">Owner</span><span class="p">.</span><span class="n">Sprite</span><span class="p">.</span><span class="n">Color</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">DefaultColor</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">//Changes button&#39;s sprite source to the value of HoveredSprite</span>
  <span class="n">function</span> <span class="nf">HoveredState</span><span class="p">()</span>
  <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="n">Owner</span><span class="p">.</span><span class="n">Sprite</span><span class="p">.</span><span class="n">SpriteSource</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">HoveredSprite</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="n">Owner</span><span class="p">.</span><span class="n">Sprite</span><span class="p">.</span><span class="n">Color</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">HoveredColor</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">//Changes button&#39;s sprite source to the value of ClickedSprite,</span>
  <span class="c1">//restarts the game, and sets visibility properties</span>
  <span class="n">function</span> <span class="nf">ClickedState</span><span class="p">()</span>
  <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="n">Owner</span><span class="p">.</span><span class="n">Sprite</span><span class="p">.</span><span class="n">SpriteSource</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">ClickedSprite</span><span class="p">;</span>

    <span class="c1">//Accessing the main space</span>
    <span class="k">this</span><span class="p">.</span><span class="n">MainSpace</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">LevelSettings</span><span class="p">.</span><span class="n">HUDSpaceReferences</span><span class="p">.</span><span class="n">MainSpaceRef</span><span class="p">;</span>

    <span class="c1">//Getting reference to the Player from the main space</span>
    <span class="k">this</span><span class="p">.</span><span class="n">Player</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">MainSpace</span><span class="p">.</span><span class="n">LevelSettings</span><span class="p">.</span><span class="n">HUDCreator</span><span class="p">.</span><span class="n">PlayerRef</span><span class="p">.</span><span class="n">Cog</span><span class="p">;</span>

    <span class="c1">//Calling the restart function on Player&#39;s PlayerHealth component,</span>
    <span class="c1">//which restarts the game</span>
    <span class="k">this</span><span class="p">.</span><span class="n">Player</span><span class="p">.</span><span class="n">PlayerHealth</span><span class="p">.</span><span class="n">Restart</span><span class="p">();</span>

    <span class="c1">//Set button and text visibility to false</span>
    <span class="k">this</span><span class="p">.</span><span class="n">Owner</span><span class="p">.</span><span class="n">Sprite</span><span class="p">.</span><span class="n">Visible</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="n">ButtonTextPath</span><span class="p">.</span><span class="n">Cog</span><span class="p">.</span><span class="n">SpriteText</span><span class="p">.</span><span class="n">Visible</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Given that the majority of this script is identical to one we used in the previous project, I&#8217;ll mention just a couple of things. In the <code class="docutils literal"><span class="pre">ClickedState()</span></code> function, we first get a reference to the main (or game) space and then immediately get a reference to the player through that space reference. Then we call a function inside our <code class="docutils literal"><span class="pre">PlayerHealth</span></code> component that we&#8217;ve yet to write called <code class="docutils literal"><span class="pre">Restart()</span></code>. Finally, we make the button and the button label invisible again.</p>
<p>Let&#8217;s add that last function to our <code class="docutils literal"><span class="pre">PlayerHealth</span></code> component now.</p>
<ul class="simple">
<li>In the <code class="docutils literal"><span class="pre">PlayerHealth</span></code> ZilchScript, add the following directly after the <code class="docutils literal"><span class="pre">ChangePlayerSize()</span></code> function:</li>
</ul>
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="c1">//Function that is called when user hits the Restart Game button</span>
<span class="n">function</span> <span class="nf">Restart</span><span class="p">()</span>
<span class="p">{</span>
  <span class="c1">//Health returned to its original value</span>
  <span class="k">this</span><span class="p">.</span><span class="n">Health</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">StartHealth</span><span class="p">;</span>

  <span class="c1">//Player object&#39;s visibility set to true</span>
  <span class="k">this</span><span class="p">.</span><span class="n">Owner</span><span class="p">.</span><span class="n">Sprite</span><span class="p">.</span><span class="n">Visible</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>

  <span class="c1">//Resets the Player&#39;s original size</span>
  <span class="k">this</span><span class="p">.</span><span class="n">Owner</span><span class="p">.</span><span class="n">Area</span><span class="p">.</span><span class="n">Size</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">StartSize</span><span class="p">;</span>

  <span class="c1">//Calls function to change the Health Bar back to full health</span>
  <span class="c1">//(by passing in a 1 or 100% health percentage value)</span>
  <span class="k">this</span><span class="p">.</span><span class="n">HealthBar</span><span class="p">.</span><span class="n">ChangeHealth</span><span class="p">.</span><span class="n">ChangeHealthBar</span><span class="p">(</span><span class="m">1</span><span class="p">);</span>

  <span class="c1">//Updates Health SpriteText to the reset Health value</span>
  <span class="k">this</span><span class="p">.</span><span class="n">HealthBar</span><span class="p">.</span><span class="n">ChangeHealth</span><span class="p">.</span><span class="n">ChangeHealthText</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">Health</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li>Make sure you haven&#8217;t written code past the last curly brace that closes the <code class="docutils literal"><span class="pre">PlayerHealth</span></code> class or the script won&#8217;t compile.</li>
</ul>
<p>All this function does is reset the values for all of the major objects in play. The player&#8217;s health is returned to its starting health, its <a class="reference internal" href="../../ZeroManual/CodeReference/Reference/Sprite.html#_CPPv26Sprite" title="Sprite"><code class="xref cpp cpp-type docutils literal"><span class="pre">Sprite</span></code></a> is set to visible again, and its size is returned to its original start size. On the HUD, the health bar&#8217;s size is reset to it&#8217;s starting value by effectively passing in a health percentage of 100%, while the the health text is reset by updating it&#8217;s text with the player&#8217;s current health, which was just reset back to its original starting health.</p>
<p>Now all that&#8217;s left to do is to attach the <code class="docutils literal"><span class="pre">Button</span></code> component to our button!</p>
<p></p>
<div class="section" id="attaching-the-button-component">
<h3>Attaching the Button Component</h3>
<ul class="simple">
<li>In the Library window<ul>
<li>Under Level<ul>
<li>Select and choose <code class="docutils literal"><span class="pre">HUDLevel</span></code></li>
</ul>
</li>
</ul>
</li>
<li>In the Objects window<ul>
<li><a class="reference internal" href="SelectObject.html#selectobject"><span>Select the RestartButton object</span></a></li>
</ul>
</li>
<li>In the Properties window<ul>
<li><a class="reference internal" href="AddComponent.html#addcomponent"><span>Add the Button Component</span></a></li>
<li>Under Button<ul>
<li>Set DefaultSprite to: <code class="docutils literal"><span class="pre">Button5</span></code></li>
<li>Set DefaultColor to: <code class="docutils literal"><span class="pre">[R;</span> <span class="pre">0,</span> <span class="pre">G:</span> <span class="pre">0,</span> <span class="pre">B:</span> <span class="pre">255,</span> <span class="pre">A:</span> <span class="pre">1.00]</span></code> , <code class="docutils literal"><span class="pre">#0000FF</span></code></li>
<li>Set HoveredSprite to: <code class="docutils literal"><span class="pre">Button4</span></code></li>
<li>Set HoveredColor to: <code class="docutils literal"><span class="pre">[R;</span> <span class="pre">0,</span> <span class="pre">G;</span> <span class="pre">0,</span> <span class="pre">B:</span> <span class="pre">125,</span> <span class="pre">A:</span> <span class="pre">1.00]</span></code> , <code class="docutils literal"><span class="pre">#00007D</span></code></li>
<li>Set ClickedSprite to: <code class="docutils literal"><span class="pre">Button3</span></code></li>
<li>Set ButtonTextPath by: <a class="reference internal" href="CogPaths.html#cogpaths"><span>choosing the RestartText object</span></a> or typing <code class="docutils literal"><span class="pre">:/RestartText</span></code> into the text field</li>
</ul>
</li>
</ul>
</li>
<li>Return to the level named <code class="docutils literal"><span class="pre">Level</span></code></li>
<li><a class="reference internal" href="SavingProject.html#savingproject"><span>Save your project</span></a> and <a class="reference internal" href="RunTheGame.html#runthegame"><span>run the game</span></a></li>
</ul>
<p>Now when the player&#8217;s health hits zero, use the mouse to click on the restart button and you should see the game reset back to its original state. Now you&#8217;ve learned how to create a HUD space and level and how to send information back and forth between the game space and the HUD space.</p>
</div>
</div>
<div class="section" id="on-your-own">
<h2>On Your Own</h2>
<p><strong>Novice</strong></p>
<ul class="simple">
<li>Add an extra button to the level allowing the player to restart the game at any time instead of just at the end.</li>
</ul>
<p><strong>Intermediate</strong></p>
<ul class="simple">
<li>Integrate this level into the User Interface menu project as the &#8220;Game Level&#8221;</li>
</ul>
<p><strong>Advanced</strong></p>
<ul class="simple">
<li>Turn the game into a two-player game complete with controls, Sprites, and HUDs for both players.</li>
</ul>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="UserInterface.html" class="btn btn-neutral float-right" title="User Interface" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ParallaxBackground.html" class="btn btn-neutral" title="Parallax Background" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, DigiPen Institute of Technology.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org/">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../cdn.mathjax.org/mathjax/latest/MathJaxdda6.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
<script src="../../_static/js/extjquery.js"></script>



</body>

<!-- Mirrored from zero.digipen.edu/Workshops/2016/HeadsUpDisplay.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 27 Dec 2022 23:52:30 GMT -->
</html>