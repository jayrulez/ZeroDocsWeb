<!-- this is a global static patch html file  -->



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->

<!-- Mirrored from zero.digipen.edu/Workshops/2014/CollisionEvents.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 28 Dec 2022 00:23:14 GMT -->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Collision Events &mdash; Zero Engine 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Zero Engine 1.0 documentation" href="../../index-2.html"/>
        <link rel="up" title="Introduction to 2D Video Game Programming" href="index.html"/>
        <link rel="next" title="Sprites" href="Sprites.html"/>
        <link rel="prev" title="Scripting Events" href="ScriptingEvents.html"/>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-30697525-2', 'auto');
  ga('send', 'pageview');

</script>



  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index-2.html" class="icon icon-home"> Zero Engine
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="https://zero.digipen.edu/search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference external" href="../../Launcher/ZeroLauncherSetup.html">Download Zero</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GettingStarted/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ZeroManual/index.html">Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Community/index.html">Community</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Classes &amp; Workshops</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../GAM100/index.html">GAM100</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Proj101/index.html">Project 101</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2016/index.html">Video Game Development Level 1 - 2016</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2016/TeachersGuide.html">Teacher&#8217;s Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2015/index.html">Video Game Development Level 1 - 2015</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2015/TeachersGuide.html">Teacher&#8217;s Guide</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Introduction to 2D Video Game Programming</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="EditorUI.html">Editor UI</a></li>
<li class="toctree-l3"><a class="reference internal" href="GameObjects.html">Game Objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="AddingComponents.html">Adding Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="Resources.html">Resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="PhysicsEffects.html">Regions &amp; Physics Effects</a></li>
<li class="toctree-l3"><a class="reference internal" href="Text.html">Text</a></li>
<li class="toctree-l3"><a class="reference internal" href="Scripting.html">Scripting</a></li>
<li class="toctree-l3"><a class="reference internal" href="ScriptingEvents.html">Scripting Events</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Collision Events</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Sprites.html">Sprites</a></li>
<li class="toctree-l3"><a class="reference internal" href="Properties.html">Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="Archetypes.html">Archetypes</a></li>
<li class="toctree-l3"><a class="reference internal" href="ObjectCreation.html">Object Creation</a></li>
<li class="toctree-l3"><a class="reference internal" href="Orientation.html">Rotating Towards a Point</a></li>
<li class="toctree-l3"><a class="reference internal" href="FireAtMouse.html">Firing At the Mouse</a></li>
<li class="toctree-l3"><a class="reference internal" href="Levels.html">Levels</a></li>
<li class="toctree-l3"><a class="reference internal" href="ParticleSystems.html">Particle Systems</a></li>
<li class="toctree-l3"><a class="reference internal" href="SimpleAi.html">Ai Shooting and Movement</a></li>
<li class="toctree-l3"><a class="reference internal" href="UsingTheSweptController.html">Using the Swept Controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="FollowingCamera.html">Following Camera</a></li>
<li class="toctree-l3"><a class="reference internal" href="AnimatedSpritesSheets.html">Animated Player</a></li>
<li class="toctree-l3"><a class="reference internal" href="TileEditorAndSpriteSheets.html">Tile Editor and Sprite Sheets</a></li>
<li class="toctree-l3"><a class="reference internal" href="CameraParallax.html">Camera Parallax</a></li>
<li class="toctree-l3"><a class="reference internal" href="SameLevelCheckpoints.html">Level Checkpoints</a></li>
<li class="toctree-l3"><a class="reference internal" href="HeadsUpDisplay.html">Heads Up Display</a></li>
<li class="toctree-l3"><a class="reference internal" href="UserInterface.html">User Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="Actions.html">Actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="Area.html">Area Component</a></li>
<li class="toctree-l3"><a class="reference internal" href="Audio.html">Audio</a></li>
<li class="toctree-l3"><a class="reference internal" href="ObjectStore.html">Saving and Loading Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="Commands.html">Executing Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="CreateProject.html">Create a New Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="RunTheGame.html">Running the Game</a></li>
<li class="toctree-l3"><a class="reference internal" href="StopGame.html">Close the Game Window</a></li>
<li class="toctree-l3"><a class="reference internal" href="SavingProject.html">Saving the Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="SelectObject.html">Selecting an Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="AddComponent.html">Add a Component</a></li>
<li class="toctree-l3"><a class="reference internal" href="ResourceAdding.html">Adding a Resource</a></li>
<li class="toctree-l3"><a class="reference internal" href="SwitchingMode2Dto3D.html">Switching from Mode2D to Mode3D</a></li>
<li class="toctree-l3"><a class="reference internal" href="UsingTheVoid.html">Using the Void</a></li>
<li class="toctree-l3"><a class="reference internal" href="P1.html">Project 1</a></li>
<li class="toctree-l3"><a class="reference internal" href="P2.html">Project 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="P3.html">Project 3</a></li>
<li class="toctree-l3"><a class="reference internal" href="P4.html">Project 4</a></li>
<li class="toctree-l3"><a class="reference internal" href="P5.html">Project 5</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="TeachersGuide.html">Teacher&#8217;s Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Support/index.html">Zero Engine Support</a></li>
<li class="toctree-l1"><a class="reference external" href="https://survey.digipen.edu/survey/index/sid/524363/newtest/Y/lang/en">Feedback Survey</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index-2.html">Zero Engine</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index-2.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Classes &amp; Workshops</a> &raquo;</li>
      
          <li><a href="index.html">Introduction to 2D Video Game Programming</a> &raquo;</li>
      
    <li>Collision Events</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/Workshops/2014/CollisionEvents.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="searchtitle section" id="collision-events">
<span id="collisionevents2014"></span><h1>Collision Events</h1>
<p class="searchdescription">This lesson covers basic collision, collision events, checking for collision with specific objects.</p>
<div class="section" id="create-a-new-project">
<h2>Create a New Project</h2>
<p><a class="reference internal" href="CreateProject.html#createnewproject2014"><span>Create a New Project</span></a></p>
</div>
<div class="section" id="level-setup">
<h2>Level Setup</h2>
<p><strong>Ball Object</strong></p>
<ul class="simple">
<li><a class="reference internal" href="Commands.html#commands2014"><span>Command</span></a> : <code class="docutils literal"><span class="pre">CreateSprite</span></code> or <span class="menuselection">Create ‣ Create Sprite</span></li>
<li>In the Properties Window<ul>
<li>Set Name to: Ball</li>
<li><a class="reference internal" href="AddComponent.html#addcomponent2014"><span>Add a RigidBody component</span></a></li>
<li><a class="reference internal" href="AddComponent.html#addcomponent2014"><span>Add a SphereCollider component</span></a></li>
<li>Under Transform<ul>
<li>Set Translation to: [-5, 0, 0]</li>
</ul>
</li>
<li>Under Sprite<ul>
<li>Set SpriteSource to: Circle</li>
</ul>
</li>
<li>Under RigidBody<ul>
<li>Set DynamicState to: Kinematic</li>
</ul>
</li>
<li>Under SphereCollider<ul>
<li>Set Radius to: 0.5</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>Block Object</strong></p>
<ul class="simple">
<li><a class="reference internal" href="Commands.html#commands2014"><span>Command</span></a> : <code class="docutils literal"><span class="pre">CreateSprite</span></code> or <span class="menuselection">Create ‣ Create Sprite</span></li>
<li>In the Properties Window<ul>
<li>Set Name to: Block</li>
<li><a class="reference internal" href="AddComponent.html#addcomponent2014"><span>Add a RigidBody component</span></a></li>
<li><a class="reference internal" href="AddComponent.html#addcomponent2014"><span>Add a BoxCollider component</span></a></li>
<li>Under Transform<ul>
<li>Set Translation to: [3, 0, 0]</li>
<li>Set Scale to: [2, 2, 2]</li>
</ul>
</li>
<li>Under Sprite<ul>
<li>Set Color to: [R: 255, G: 255, B: 255, A: 0.10] <cite>to make it transparent</cite></li>
</ul>
</li>
<li>Under RigidBody<ul>
<li>Set DynamicState to: Kinematic</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>BigBlock Object</strong></p>
<ul class="simple">
<li>Create a Copy of the Block object we just created</li>
<li>In the Properties Window</li>
<li>Set Name to: BigBlock<ul>
<li>Under Transform<ul>
<li>Set Translation to: [8, 0, 0]</li>
<li>Set Scale to: [3, 3, 3]</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="SavingProject.html#savingproject2014"><span>Save the project</span></a> and <a class="reference internal" href="RunTheGame.html#runthegame2014"><span>run the game</span></a></li>
</ul>
<p>Here what our level should look like:</p>
<p><img alt="10000000000002F5000000AD47EDFEE5_png" src="../../_images/10000000000002F5000000AD47EDFEE5.png" /></p>
</div>
<div class="section" id="simple-movement">
<h2>Simple Movement</h2>
<ul>
<li><p class="first"><a class="reference internal" href="StopGame.html#stopgame2014"><span>Stop the Game</span></a></p>
</li>
<li><p class="first"><a class="reference internal" href="ResourceAdding.html#resourceadding2014"><span>Add a new ZilchScript resource</span></a> named: &#8216;Movement&#8217;</p>
</li>
<li><p class="first"><a class="reference internal" href="SavingProject.html#savingproject2014"><span>Save the project</span></a></p>
</li>
<li><p class="first"><a class="reference internal" href="AddComponent.html#addcomponent2014"><span>Add the Movement script component</span></a> that we just created to the Ball object:</p>
<p><img alt="100000000000011F000000C05A1B7E2C_png" src="../../_images/100000000000011F000000C05A1B7E2C.png" /></p>
</li>
</ul>
<p></p>
<ul class="simple">
<li>Open the <strong>Movement</strong> script and update it with the following code:</li>
</ul>
<div class="highlight-as"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nx">Movement</span> <span class="o">:</span> <span class="nx">ZilchComponent</span>
<span class="p">{</span>
    <span class="kd">function</span> <span class="nx">Initialize</span><span class="p">(</span><span class="nx">init</span> <span class="o">:</span> <span class="nx">CogInitializer</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// Connect to the LogicUpdate event:</span>
        <span class="nx">Zero</span><span class="p">.</span><span class="nx">Connect</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">Space</span><span class="o">,</span> <span class="nx">Events</span><span class="p">.</span><span class="nx">LogicUpdate</span><span class="o">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">OnLogicUpdate</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">function</span> <span class="nx">OnLogicUpdate</span><span class="p">(</span><span class="nx">event</span> <span class="o">:</span> <span class="nx">UpdateEvent</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// Get current position:</span>
        <span class="k">var</span> <span class="nx">position</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">Owner</span><span class="p">.</span><span class="nb">Transform</span><span class="p">.</span><span class="nx">Translation</span><span class="o">;</span>
        <span class="c1">// Move to the right:</span>
        <span class="nx">position</span><span class="p">.</span><span class="nx">X</span> <span class="o">+=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">Dt</span> <span class="o">*</span> <span class="mf">10.0</span><span class="o">;</span>

        <span class="c1">// If past a certain point,</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">position</span><span class="p">.</span><span class="nx">X</span> <span class="o">&gt;=</span> <span class="mf">12.0</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// reset the position.</span>
            <span class="nx">position</span><span class="p">.</span><span class="nx">X</span> <span class="o">=</span> <span class="o">-</span><span class="mf">5.0</span><span class="o">;</span>
        <span class="p">}</span>

        <span class="c1">// Update Translation with changes:</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">Owner</span><span class="p">.</span><span class="nb">Transform</span><span class="p">.</span><span class="nx">Translation</span> <span class="o">=</span> <span class="nx">position</span><span class="o">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><a class="reference internal" href="SavingProject.html#savingproject2014"><span>Save the project</span></a> and <a class="reference internal" href="RunTheGame.html#runthegame2014"><span>run the game</span></a></li>
</ul>
<p>The Ball object should be moving to the right and passing through the Block and BigBlock objects. Our next step is to detect when the Ball collides with another object. When this happens, a <strong>collision event</strong> is dispatched.</p>
</div>
<div class="section" id="id1">
<h2>Collision Events</h2>
<p>We discussed how LogicUpdate event is a type of UpdateEvent. <strong>CollisionEvent</strong> is another type of event. Three events fall under the CollisionEvent category: CollisionStarted, CollisionEnded, and CollisionPersisted.</p>
<ol class="arabic simple">
<li><strong>CollisionPersisted</strong> is when the object was and still is colliding.</li>
<li><strong>CollisionEnded</strong> is when the object was but is no longer colliding.</li>
<li><strong>CollisionStarted</strong> is when the object is colliding but was not colliding previously.</li>
</ol>
<ul class="simple">
<li><a class="reference internal" href="StopGame.html#stopgame2014"><span>Stop the Game</span></a></li>
<li><a class="reference internal" href="ResourceAdding.html#resourceadding2014"><span>Add a new ZilchScript resource</span></a> named: &#8216;CollisionLogic&#8217;</li>
<li><a class="reference internal" href="SelectObject.html#selectobject2014"><span>Select the Ball object</span></a></li>
</ul>
<p></p>
<ul>
<li><p class="first">Add the CollisionLogic script that we just created to the Ball object</p>
<p><img alt="10000000000001160000003D5B43D7B9_png" src="../../_images/10000000000001160000003D5B43D7B9.png" /></p>
</li>
<li><p class="first">Update <strong>CollisionLogic</strong> script with the following code:</p>
</li>
</ul>
<div class="highlight-as"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">Initialize</span><span class="p">(</span><span class="nx">init</span> <span class="o">:</span> <span class="nx">CogInitializer</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Connect to CollisionStarted event</span>
    <span class="c1">//           when I      get a CollisionStarted event call my OnCollisionStarted function</span>
    <span class="nx">Zero</span><span class="p">.</span><span class="nx">Connect</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">Owner</span><span class="o">,</span> <span class="nx">Events</span><span class="p">.</span><span class="nx">CollisionStarted</span><span class="o">,</span>     <span class="k">this</span><span class="p">.</span><span class="nx">OnCollisionStarted</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">OnCollisionStarted</span><span class="p">(</span><span class="nx">event</span> <span class="o">:</span> <span class="nx">CollisionEvent</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Change model color to Orange.</span>
      <span class="c1">// Color orange is    [R:1, G: 0.5, B:0, A:1.0].</span>
    <span class="k">var</span> <span class="nx">orange</span> <span class="o">=</span> <span class="nx">local</span> <span class="nx">Real4</span><span class="p">(</span><span class="mf">1.0</span><span class="o">,</span>    <span class="mf">0.5</span><span class="o">,</span> <span class="mf">0.0</span><span class="o">,</span>   <span class="mf">1.0</span><span class="p">);</span>
      <span class="c1">// Apply color to the Sprite:</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">Owner</span><span class="p">.</span><span class="nb">Sprite</span><span class="p">.</span><span class="nb">Color</span> <span class="o">=</span> <span class="nx">orange</span><span class="o">;</span>

<span class="p">}</span>
</pre></div>
</div>
<p>In this code, we connect to the CollisionStarted event and provide our OnCollisionStarted function as the callback function. Notice that we are connecting to the <strong>Owner</strong> object and <cite>not the Space</cite> like we do for LogicUpdate events. This is because the Owner object is dispatching the CollisionEvent. In our OnCollisionStarted function, we change the model color to visually show that we have collided.</p>
<ul class="simple">
<li><a class="reference internal" href="SavingProject.html#savingproject2014"><span>Save the project</span></a> and <a class="reference internal" href="RunTheGame.html#runthegame2014"><span>run the game</span></a></li>
</ul>
<p>The color of the Ball object changes to orange when we collide. Next, we will change the color back to white when we are no longer colliding by using the CollisionEnded event.</p>
<ul class="simple">
<li><a class="reference internal" href="StopGame.html#stopgame2014"><span>Stop the Game</span></a></li>
<li>In the <strong>CollisionLogic</strong> script<ul>
<li>Update the <strong>Initialize</strong> function by appending the following:</li>
</ul>
</li>
</ul>
<div class="highlight-as"><div class="highlight"><pre><span></span><span class="c1">// Connect to CollisionEnded  event</span>
<span class="c1">//           when I      get a CollisionEnded event call my OnCollisionEnded function</span>
<span class="nx">Zero</span><span class="p">.</span><span class="nx">Connect</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">Owner</span><span class="o">,</span> <span class="nx">Events</span><span class="p">.</span><span class="nx">CollisionEnded</span><span class="o">,</span>     <span class="k">this</span><span class="p">.</span><span class="nx">OnCollisionEnded</span><span class="p">);</span>
</pre></div>
</div>
<p></p>
<blockquote>
<div><ul class="simple">
<li>Add the following function to the <strong>CollisionLogic</strong> class:</li>
</ul>
</div></blockquote>
<div class="highlight-as"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">OnCollisionEnded</span><span class="p">(</span><span class="nx">event</span> <span class="o">:</span> <span class="nx">CollisionEvent</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Change model color to back to white.</span>
      <span class="c1">// White is          [R:1,  G:1, B:1, A:1].</span>
    <span class="k">var</span> <span class="nx">white</span> <span class="o">=</span> <span class="nx">local</span> <span class="nx">Real4</span><span class="p">(</span><span class="mf">1.0</span><span class="o">,</span>  <span class="mf">1.0</span><span class="o">,</span> <span class="mf">1.0</span><span class="o">,</span> <span class="mf">1.0</span><span class="p">);</span>
      <span class="c1">// Apply color to the Sprite:</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">Owner</span><span class="p">.</span><span class="nb">Sprite</span><span class="p">.</span><span class="nb">Color</span> <span class="o">=</span> <span class="nx">white</span><span class="o">;</span>

<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><a class="reference internal" href="SavingProject.html#savingproject2014"><span>Save the project</span></a> and <a class="reference internal" href="RunTheGame.html#runthegame2014"><span>run the game</span></a></li>
</ul>
<p>The color of the Ball object now changes back to white when we stop colliding, but we won&#8217;t stop there. What if we wanted to check for collision with a specific object?</p>
</div>
<div class="section" id="checking-for-collision-with-specific-objects">
<h2>Checking for Collision with Specific Objects</h2>
<p>Now we will go over colliding with specific objects by getting information about the object we collided with from the <strong>CollisionEvent</strong> . Similar to how an UpdateEvent has Dt and CurrentTime as accessible data members, every CollisionEvent provides a way of getting the other object that we either were colliding with, are still colliding with, or just started colliding with.</p>
<ul class="simple">
<li><a class="reference internal" href="StopGame.html#stopgame2014"><span>Stop the Game</span></a></li>
<li>In the <strong>CollisionLogic</strong> script<ul>
<li>Update the <strong>OnCollisionStarted function</strong> with the following code:</li>
</ul>
</li>
</ul>
<div class="highlight-as"><div class="highlight"><pre><span></span><span class="hll">  <span class="c1">// Get the object we collided with:</span>
</span><span class="hll">  <span class="k">var</span> <span class="nx">otherObject</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">OtherObject</span><span class="o">;</span>
</span>
<span class="hll">  <span class="c1">// If we collided with the block,</span>
</span><span class="hll">  <span class="k">if</span> <span class="p">(</span><span class="nx">otherObject</span><span class="p">.</span><span class="nx">Name</span> <span class="o">==</span> <span class="s2">&quot;Block&quot;</span><span class="p">)</span>
</span><span class="hll">  <span class="p">{</span>
</span>      <span class="c1">// change model color to Orange.</span>
        <span class="c1">// Orange is          [R:1, G: 0.5, B:0, A:1].</span>
      <span class="k">var</span> <span class="nx">orange</span> <span class="o">=</span> <span class="nx">local</span> <span class="nx">Real4</span><span class="p">(</span><span class="mf">1.0</span><span class="o">,</span>    <span class="mf">0.5</span><span class="o">,</span> <span class="mf">0.0</span><span class="o">,</span> <span class="mf">1.0</span><span class="p">);</span>
        <span class="c1">// Apply color to the Sprite:</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">Owner</span><span class="p">.</span><span class="nb">Sprite</span><span class="p">.</span><span class="nb">Color</span> <span class="o">=</span> <span class="nx">orange</span><span class="o">;</span>
<span class="hll">  <span class="p">}</span>
</span></pre></div>
</div>
<p>Notice we use the <strong>CollisionEvent.</strong> <strong>OtherObject</strong> property of the CollisionEvent in order to get the other object from the CollisionEvent.</p>
<ul class="simple">
<li><a class="reference internal" href="SavingProject.html#savingproject2014"><span>Save the project</span></a> and <a class="reference internal" href="RunTheGame.html#runthegame2014"><span>run the game</span></a></li>
</ul>
<p>The color of the Ball object <strong>only</strong> changes to orange whenever we collide with the Block object. Now we know how to use specific information about the other colliding object in order to react differently when colliding with different objects.</p>
<p></p>
</div>
<div class="section" id="on-your-own">
<h2>On Your Own</h2>
<p><strong>Disabling Collision Events at Run-Time</strong></p>
<p>Disabling collision events at run-time is pretty simple. Collider components have a boolean value called <strong>SendsEvents.</strong> If we set SendsEvents to False, the object will not dispatch collision events. Even if we connect to the event, we still can&#8217;t get an event that was never sent.</p>
<ul class="simple">
<li><a class="reference internal" href="StopGame.html#stopgame2014"><span>Stop the Game</span></a></li>
<li>In the <strong>CollisionLogic</strong> script<ul>
<li>Update the <strong>Initialize</strong> function by appending the following code:</li>
</ul>
</li>
</ul>
<div class="highlight-as"><div class="highlight"><pre><span></span><span class="c1">// Connect to the LogicUpdate event fired by the space:</span>
<span class="c1">//           when the space  gets a LogicUpdate event   call my OnLogicUpdate function</span>
<span class="nx">Zero</span><span class="p">.</span><span class="nx">Connect</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">Space</span><span class="o">,</span>     <span class="nx">Events</span><span class="p">.</span><span class="nx">LogicUpdate</span><span class="o">,</span>        <span class="k">this</span><span class="p">.</span><span class="nx">OnLogicUpdate</span><span class="p">);</span>
</pre></div>
</div>
<ul class="simple">
<li>In the <strong>CollisionLogic</strong> script<ul>
<li>Add the following function:</li>
</ul>
</li>
</ul>
<div class="highlight-as"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">OnLogicUpdate</span><span class="p">(</span><span class="nx">event</span><span class="o">:</span> <span class="nx">UpdateEvent</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// If we are holding down space,</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">Zero</span><span class="p">.</span><span class="nb">Keyboard</span><span class="p">.</span><span class="nx">KeyIsDown</span><span class="p">(</span><span class="nx">Keys</span><span class="p">.</span><span class="nx">Space</span><span class="p">))</span>
    <span class="p">{</span>
        <span class="c1">// do NOT send the event.</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">Owner</span><span class="p">.</span><span class="nx">Collider</span><span class="p">.</span><span class="nx">SendsEvents</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="c1">// Otherwise, if we aren&#39;t holding down space,</span>
    <span class="p">{</span>
        <span class="c1">// make sure we dispatch collision events.</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">Owner</span><span class="p">.</span><span class="nx">Collider</span><span class="p">.</span><span class="nx">SendsEvents</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><a class="reference internal" href="SavingProject.html#savingproject2014"><span>Save the project</span></a> and <a class="reference internal" href="RunTheGame.html#runthegame2014"><span>run the game</span></a></li>
</ul>
<p>If you hold down Space, you&#8217;ll see that the Ball object no longer changes color because collision events are no longer being sent.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">orphan:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<!-- this is used as a file for inclusion in other .rst files --></div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Sprites.html" class="btn btn-neutral float-right" title="Sprites" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ScriptingEvents.html" class="btn btn-neutral" title="Scripting Events" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, DigiPen Institute of Technology.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org/">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../cdn.mathjax.org/mathjax/latest/MathJaxdda6.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
<script src="../../_static/js/extjquery.js"></script>



</body>

<!-- Mirrored from zero.digipen.edu/Workshops/2014/CollisionEvents.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 28 Dec 2022 00:23:15 GMT -->
</html>