<!-- this is a global static patch html file  -->



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->

<!-- Mirrored from zero.digipen.edu/ZeroManual/Gameplay/Input/GamepadInput.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 28 Dec 2022 00:27:29 GMT -->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Gamepad Input &mdash; Zero Engine 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Zero Engine 1.0 documentation" href="../../../index-2.html"/>
        <link rel="up" title="Input" href="index.html"/>
        <link rel="next" title="Vector Math" href="../VectorMath/index.html"/>
        <link rel="prev" title="Keyboard Input" href="KeyboardInput.html"/>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-30697525-2', 'auto');
  ga('send', 'pageview');

</script>



  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index-2.html" class="icon icon-home"> Zero Engine
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="https://zero.digipen.edu/search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference external" href="../../../Launcher/ZeroLauncherSetup.html">Download Zero</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../GettingStarted/index.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../Editor/index.html">Editor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Scripting/index.html">Scripting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Architecture/index.html">Architecture</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Gameplay</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../Random.html">Random</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Input</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="MouseInput.html">Mouse Input</a></li>
<li class="toctree-l4"><a class="reference internal" href="CustomCursor.html">Custom Cursor</a></li>
<li class="toctree-l4"><a class="reference internal" href="KeyboardInput.html">Keyboard Input</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Gamepad Input</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../VectorMath/index.html">Vector Math</a></li>
<li class="toctree-l3"><a class="reference internal" href="../HandlingQuitMessage.html">Handle the Quit Message (Stop Esc from Exiting Game)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../LevelPath.html">LevelPath</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Graphics/index.html">Graphics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Physics/index.html">Physics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Audio/index.html">Audio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../UI/index.html">User Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../AI/index.html">Artificial Intelligence</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ZilchInZero/index.html">Zilch In Zero</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../CodeReference/index.html">Code Index</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../Tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Community/index.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Workshops/index.html">Classes &amp; Workshops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Support/index.html">Zero Engine Support</a></li>
<li class="toctree-l1"><a class="reference external" href="https://survey.digipen.edu/survey/index/sid/524363/newtest/Y/lang/en">Feedback Survey</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../index-2.html">Zero Engine</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index-2.html">Docs</a> &raquo;</li>
      
          <li><a href="../../index.html">Zero Manual</a> &raquo;</li>
      
          <li><a href="../index.html">Gameplay</a> &raquo;</li>
      
          <li><a href="index.html">Input</a> &raquo;</li>
      
    <li>Gamepad Input</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/ZeroManual/Gameplay/Input/GamepadInput.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="searchtitle section" id="gamepad-input">
<span id="manualgamepadinput"></span><h1>Gamepad Input</h1>
<p class="searchdescription"><a class="reference internal" href="../../CodeReference/Reference/Gamepad.html#_CPPv27Gamepad" title="Gamepad"><code class="xref cpp cpp-type docutils literal"><span class="pre">Gamepads</span></code></a> are very useful tools for any game project. They often offer a more comfortable method of controlling a game, especially if two or more players are intended to play at the same time. As well as being an alternate method of control, Gamepads can also make use of vibration as a method of feedback.</p>
<div class="section" id="common-uses">
<h2>Common Uses</h2>
<ul class="simple">
<li>Provides a alternative method of control to Keyboard and Mouse inputs</li>
<li>Lets multiple players comfortably play a game on the same screen</li>
<li>Gives access to vibration for tactile feedback to players</li>
</ul>
</div>
<div class="section" id="before-using-gamepads">
<h2>Before Using Gamepads</h2>
<p>Before starting to use Gamepads in a project, take the time to check that they are properly working. What may be thought to be an error in code may, in fact, be that the Gamepad is not plugged in properly, has outdated drivers, etc. Most wired Gamepads should work without issue; however, some wireless Gamepads may need to have drivers updated.</p>
<p>This page was written using wired XBox 360 controllers. If using an XBox One Gamepad, drivers may be found <a class="reference external" href="http://support.xbox.com/en-US/xbox-one/accessories/controller-pc-compatibility">here</a>.</p>
</div>
<div class="section" id="using-gamepads">
<h2>Using Gamepads</h2>
<div class="section" id="initial-setup">
<span id="manualgamepadinputsetup"></span><h3>Initial Setup</h3>
<p>Unlike most things in Zero, it&#8217;s not possible to make a simple reference to <code class="docutils literal"><span class="pre">Zero.Gamepads</span></code> and have the Engine understand what is meant, even if only a single Gamepad is connected. Rather, whenever any number of Gamepads are detected, Zero will store them in a list that must be accessed to select the desired Gamepad.</p>
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">GamepadLogic</span> <span class="p">:</span> <span class="n">ZilchComponent</span>
<span class="p">{</span>
    <span class="c1">// Create a variable to later use as reference to the Gamepad</span>
    <span class="kt">var</span> <span class="n">Controller</span> <span class="p">:</span> <span class="n">Gamepad</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>

    <span class="c1">// Set a Speed property to be used to adjust the movement speed</span>
<span class="na">    [Property]</span>
    <span class="kt">var</span> <span class="n">Speed</span> <span class="p">:</span> <span class="n">Real</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>

    <span class="n">function</span> <span class="nf">Initialize</span><span class="p">(</span><span class="n">init</span> <span class="p">:</span> <span class="n">CogInitializer</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// Assign the first Gamepad detected as the Gamepad this object will use</span>
        <span class="k">this</span><span class="p">.</span><span class="n">Controller</span> <span class="p">=</span> <span class="n">Zero</span><span class="p">.</span><span class="n">Gamepads</span><span class="p">.</span><span class="n">GetGamePad</span><span class="p">(</span><span class="m">0</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">Zero.Gamepads</span></code> is a reference to the ZeroObject <a class="reference internal" href="../../CodeReference/Reference/Gamepads.html#_CPPv28Gamepads" title="Gamepads"><code class="xref cpp cpp-type docutils literal"><span class="pre">Gamepads</span></code></a>, which keeps track of all detected Gamepads. The <code class="docutils literal"><span class="pre">GetGamePad</span></code> function will return a reference to whichever Gamepad corresponds to the ID passed to the function. In the case above, the Gamepad in the first element (at index 0 in the list) is accessed. <code class="docutils literal"><span class="pre">Zero.Gamepads</span></code> is a helpful reference to remember for the future, as it can be used to affect all Gamepads at once.</p>
</div>
<div class="section" id="reading-from-thumbsticks">
<span id="manualgamepadinputthumbsticks"></span><h3>Reading from Thumbsticks</h3>
<p>Thumbsticks on a Gamepad are typically used for moving the player or aiming. When accessed, they return a normalized 2D vector that is stored in corresponding <code class="docutils literal"><span class="pre">LeftStick</span></code> and <code class="docutils literal"><span class="pre">RightStick</span></code> <code class="xref cpp cpp-type docutils literal"><span class="pre">Real2</span></code> variables on each Gamepad object.</p>
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="nf">OnLogicUpdate</span><span class="p">(</span><span class="k">event</span> <span class="p">:</span> <span class="n">UpdateEvent</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Create a local variable to be used for movement</span>
    <span class="kt">var</span> <span class="n">movement</span> <span class="p">=</span> <span class="n">local</span> <span class="n">Real3</span><span class="p">(</span><span class="m">0.0</span><span class="p">,</span> <span class="m">0.0</span><span class="p">,</span> <span class="m">0.0</span><span class="p">);</span>

    <span class="c1">// Check to make sure that the Gamepad exists</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">Controller</span><span class="p">.</span><span class="n">IsActive</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// Assign the current direction of the Left thumbstick to the movement variable</span>
        <span class="n">movement</span><span class="p">.</span><span class="n">X</span> <span class="p">+=</span> <span class="k">this</span><span class="p">.</span><span class="n">Controller</span><span class="p">.</span><span class="n">LeftStick</span><span class="p">.</span><span class="n">X</span><span class="p">;</span>
        <span class="n">movement</span><span class="p">.</span><span class="n">Y</span> <span class="p">+=</span> <span class="k">this</span><span class="p">.</span><span class="n">Controller</span><span class="p">.</span><span class="n">LeftStick</span><span class="p">.</span><span class="n">Y</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// Apply this movement to the Velocity of the Game Objects RigidBody, multiplied by the Speed</span>
    <span class="k">this</span><span class="p">.</span><span class="n">Owner</span><span class="p">.</span><span class="n">RigidBody</span><span class="p">.</span><span class="n">Velocity</span> <span class="p">=</span> <span class="n">movement</span> <span class="p">*</span> <span class="k">event</span><span class="p">.</span><span class="n">Dt</span> <span class="p">*</span> <span class="k">this</span><span class="p">.</span><span class="n">Speed</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Since the thumbsticks return a Real2 at a range from <code class="docutils literal"><span class="pre">-1</span></code> to <code class="docutils literal"><span class="pre">1</span></code>, this can easily be translated into creating movement on a 2D plane. Keep in mind this example does not use the <code class="docutils literal"><span class="pre">RightStick</span></code>, only the <code class="docutils literal"><span class="pre">LeftStick</span></code>.</p>
</div>
<div class="section" id="button-input">
<span id="manualgamepadinputbuttons"></span><h3>Button Input</h3>
<p>Similar to <a class="reference internal" href="MouseInput.html#manualmouseinput"><span>Mouse Input</span></a>, assigning logic to the various buttons on the Gamepad can be Frame Based or Event Based. Both have their strengths and weaknesses; determining which approach is better for a specific project should be decided on a case by case basis.</p>
<div class="section" id="frame-based-button-input">
<h4>Frame Based Button Input</h4>
<p>The example given above is Frame Based, and the reason for that is simple: Frame Based Input from a Gamepad works best when there will be sustained action, such as when a thumbstick is held down to move a player character. This same logic applies to buttons as well.</p>
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="nf">OnLogicUpdate</span><span class="p">(</span><span class="k">event</span> <span class="p">:</span> <span class="n">UpdateEvent</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">Controller</span><span class="p">.</span><span class="n">IsButtonDown</span><span class="p">(</span><span class="n">Buttons</span><span class="p">.</span><span class="n">A</span><span class="p">))</span>
    <span class="p">{</span>
        <span class="c1">// Insert code here</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="sidebar">
<p class="first sidebar-title">Using Buttons in Zero Engine</p>
<p class="last">Zero Engine has an enum set up to be used to call a desired button, which can be accessed in a ZilchScript with <code class="docutils literal"><span class="pre">Buttons</span></code> followed by a period (e.g., <code class="docutils literal"><span class="pre">Buttons.X</span></code>). It should be noted however that the list of buttons specifically refers to the button layout of an Xbox 360 Gamepad, and may not be accurate for other Gamepads.</p>
</div>
<p>This particular line of code will simply trigger whatever is placed inside the <code class="docutils literal"><span class="pre">if</span></code> statement whenever the <code class="docutils literal"><span class="pre">A</span></code> button on the Gampad is held down. <code class="docutils literal"><span class="pre">Buttons</span></code> can be changed to refer to any button on the Gamepad. <code class="docutils literal"><span class="pre">Buttons.AnyButton</span></code> can also be used if it doesn&#8217;t matter which button is pressed, such as at a title screen.</p>
</div>
<div class="section" id="event-based-button-input">
<h4>Event Based Button Input</h4>
<p>When looking for a single press or release of a button to trigger a function, Event Based Input is a better choice. In this approach, the component listens for a gamepad event dispatch, rather than checking every frame to see if a change has occurred.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="nf">Initialize</span><span class="p">(</span><span class="n">init</span> <span class="p">:</span> <span class="n">CogInitializer</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Zero</span><span class="p">.</span><span class="n">Connect</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">Controller</span><span class="p">,</span> <span class="n">Events</span><span class="p">.</span><span class="n">ButtonDown</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="n">OnButtonDown</span><span class="p">);</span>
    <span class="n">Zero</span><span class="p">.</span><span class="n">Connect</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">Controller</span><span class="p">,</span> <span class="n">Events</span><span class="p">.</span><span class="n">ButtonUp</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="n">OnButtonUp</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">function</span> <span class="nf">OnButtonDown</span><span class="p">(</span><span class="k">event</span> <span class="p">:</span> <span class="n">GamepadEvent</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">event</span><span class="p">.</span><span class="n">Button</span> <span class="p">==</span> <span class="n">Buttons</span><span class="p">.</span><span class="n">B</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// Insert code here</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">function</span> <span class="nf">OnButtonUp</span><span class="p">(</span><span class="k">event</span> <span class="p">:</span> <span class="n">GamepadEvent</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">event</span><span class="p">.</span><span class="n">Button</span> <span class="p">==</span> <span class="n">Buttons</span><span class="p">.</span><span class="n">B</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// Insert code here</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="sidebar">
<p class="first sidebar-title">Using Triggers in Zero Engine</p>
<p class="last">By looking at the options that come up by typing <code class="docutils literal"><span class="pre">Buttons.</span></code> into a ZilchScript, one may notice that neither of the Xbox 360 Triggers are options. This is because they return a <code class="docutils literal"><span class="pre">Real</span></code> instead of a <code class="docutils literal"><span class="pre">boolean</span></code>. While this excludes them from sending any Events, it also allows them to be used as pressure sensitive buttons, as can be seen below in the Vibration section.</p>
</div>
<p>This block of code first connects to two different events: <code class="docutils literal"><span class="pre">ButtonDown</span></code> and <code class="docutils literal"><span class="pre">ButtonUp</span></code>. These events will be sent whenever a button on the Gamepad has been either pressed or let go, respectively. If it is the B button, <code class="docutils literal"><span class="pre">OnButtonDown</span></code> or <code class="docutils literal"><span class="pre">OnButtonUp</span></code> will run. A short example of this functionality: an attack charges as long as a button is held down; the attack is then used when the button is released.</p>
<div class="section" id="flicking">
<h5>Flicking</h5>
<p>Flicking is a Gamepad event that is sent whenever a thumbstick moves further than <code class="docutils literal"><span class="pre">0.5</span></code> is any direction. Because of how the event associated with flicking is dispatched&#8211;immediately and automatically once the stick goes past the &#8220;halfway point&#8221;&#8211;it should usually be used on whichever thumbstick is not being used for movement.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="nf">Initialize</span><span class="p">(</span><span class="n">init</span> <span class="p">:</span> <span class="n">CogInitializer</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Zero</span><span class="p">.</span><span class="n">Connect</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">Controller</span><span class="p">,</span> <span class="n">Events</span><span class="p">.</span><span class="n">GamepadStickFlicked</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="n">OnGamepadStickFlicked</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">function</span> <span class="nf">OnGamepadStickFlicked</span><span class="p">(</span><span class="k">event</span> <span class="p">:</span> <span class="n">GamepadEvent</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Left thumbstick</span>
    <span class="k">if</span><span class="p">(</span><span class="k">event</span><span class="p">.</span><span class="n">FlickedStick</span> <span class="p">==</span> <span class="m">1</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// Insert code here</span>
    <span class="p">}</span>

    <span class="c1">// Right thumbstick</span>
    <span class="k">if</span><span class="p">(</span><span class="k">event</span><span class="p">.</span><span class="n">FlickedStick</span> <span class="p">==</span> <span class="m">2</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// Insert code here</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This event is useful for something like a Dodging mechanic, as it can be called side by side with an UpdateEvent (e.g., LogicUpdate), allowing for normal movement to continue at the same time.</p>
</div>
</div>
</div>
<div class="section" id="vibration">
<span id="manualgamepadinputvibration"></span><h3>Vibration</h3>
<p>Provided that the Gamepad being used has a Vibration feature, Zero simply needs a function call to access it. As it is a physical reaction, however, an example works best to explain.</p>
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="nf">OnLogicUpdate</span><span class="p">(</span><span class="k">event</span> <span class="p">:</span> <span class="n">UpdateEvent</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Amount of time to spend vibrating</span>
    <span class="kt">var</span> <span class="n">vibrationTime</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>

    <span class="k">this</span><span class="p">.</span><span class="n">Controller</span><span class="p">.</span><span class="n">Vibrate</span><span class="p">(</span><span class="n">vibrationTime</span><span class="p">,</span>  <span class="c1">// Time to vibrate for</span>
                            <span class="k">this</span><span class="p">.</span><span class="n">Controller</span><span class="p">.</span><span class="n">LeftTrigger</span><span class="p">,</span>  <span class="c1">// Left-Side Vibration</span>
                            <span class="k">this</span><span class="p">.</span><span class="n">Controller</span><span class="p">.</span><span class="n">RightTrigger</span><span class="p">);</span> <span class="c1">// Right-Side Vibration</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This will cause the controller to vibrate whenever either the left or right triggers are depressed on the Gamepad. The second and third parameters for <code class="docutils literal"><span class="pre">Vibrate()</span></code> are Reals that define the intensity of the vibration. In the example abovea, as the triggers are pressed in further, the value they return slowly rises from <code class="docutils literal"><span class="pre">0</span></code> (not pressed) to <code class="docutils literal"><span class="pre">1</span></code> (fully depressed). As the value rises, the vibration will become stronger as the value moves towards <code class="docutils literal"><span class="pre">1</span></code>, with each trigger controlling the vibration on their respective sides.</p>
<p>Most Gamepads that have vibration functionality will create it by utilizing two motors housed in the casing, oftentimes with one side slightly heavier than the other (typically the left side). This allows for numerous different combinations of tactile feedback to be created, such as if the player is hit:</p>
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="nf">OnCollisionStarted</span><span class="p">(</span><span class="k">event</span> <span class="p">:</span> <span class="n">CollisionEvent</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="n">Controller</span><span class="p">.</span><span class="n">Vibrate</span><span class="p">(</span><span class="m">0.25</span><span class="p">,</span>  <span class="c1">// Time to vibrate for</span>
                            <span class="m">1</span><span class="p">,</span>     <span class="c1">// Left-Side Vibration</span>
                            <span class="m">0.5</span><span class="p">);</span>  <span class="c1">// Right-Side Vibration</span>
<span class="p">}</span>
</pre></div>
</div>
<p>which will cause the controller to vibrate for a quarter of a second, with the left side vibrating at full power and the right side vibrating at half.</p>
</div>
<div class="section" id="using-multiple-gamepads">
<span id="manualgamepadinputmultiple"></span><h3>Using Multiple Gamepads</h3>
<p>When using multiple Gamepads, Zero will need to keep a reference of which object is associated with which Gamepad. This is easily done with the addition of a Property.</p>
<div class="highlight-csharp"><div class="highlight"><pre><span></span><span class="c1">// Which Gamepad is meant to control this object</span>
<span class="na">[Property]</span>
<span class="kt">var</span> <span class="n">PlayerIndex</span> <span class="p">:</span> <span class="n">Integer</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">Controller</span> <span class="p">:</span> <span class="n">Gamepad</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>

<span class="n">function</span> <span class="nf">Initialize</span><span class="p">(</span><span class="n">init</span> <span class="p">:</span> <span class="n">CogInitializer</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="n">Controller</span> <span class="p">=</span> <span class="n">Zero</span><span class="p">.</span><span class="n">Gamepads</span><span class="p">.</span><span class="n">GetGamePad</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">PlayerIndex</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Simply change the PlayerIndex of an object to assign it to Gamepad One, Gamepad Two, etc. Keep in mind, however, that the Gamepad index starts at <code class="docutils literal"><span class="pre">0</span></code>, ,so the index for GamePad One would be <code class="docutils literal"><span class="pre">0</span></code>, GamePad Two would be <code class="docutils literal"><span class="pre">1</span></code>, Three <code class="docutils literal"><span class="pre">2</span></code>, and so on.</p>
</div>
</div>
<div class="section" id="properties-of-gamepad-and-object-events">
<h2>Properties of Gamepad and Object Events</h2>
<p>All of the events associated with the Gamepad are <a class="reference internal" href="../../CodeReference/Reference/GamepadEvent.html#_CPPv212GamepadEvent" title="GamepadEvent"><code class="xref cpp cpp-type docutils literal"><span class="pre">GamepadEvents</span></code></a>, with the exception of <code class="docutils literal"><span class="pre">GamepadUpdated</span></code>, which is an <a class="reference internal" href="../../CodeReference/Reference/ObjectEvent.html#_CPPv211ObjectEvent" title="ObjectEvent"><code class="xref cpp cpp-type docutils literal"><span class="pre">ObjectEvent</span></code></a>. As all the others are the same type of event, they all share the same properties that can be accessed when the event is dispatched. <code class="docutils literal"><span class="pre">ObjectEvents</span></code> themselves can access the Gamepad that dispatched the event by using <code class="docutils literal"><span class="pre">ObjectEvent.Source</span></code>, which <code class="docutils literal"><span class="pre">GamepadEvents</span></code> likewise has access to with <code class="docutils literal"><span class="pre">GamepadEvent.Gamepad</span></code>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">As of the time of the creation of this page, <code class="docutils literal"><span class="pre">ObjectEvent.Source</span></code> returns a null pointer rather than the Gamepad that dispatched the event.</p>
</div>
<p>Both of these can be used to trigger the same functions, the main difference being <code class="docutils literal"><span class="pre">GamepadEvent.Gamepad</span></code> would need to be triggered by the specific Gamepad, while <code class="docutils literal"><span class="pre">ObjectEvent.Source</span></code> could be used for a general script that runs the logic for multiple Gamepads during a GameSession.</p>
<p><code class="docutils literal"><span class="pre">GamepadEvents</span></code> can also reference the button used to dispatch the event with <code class="docutils literal"><span class="pre">GamepadEvent.Button</span></code>, which returns an int referring to the triggering button. The last two references all <code class="docutils literal"><span class="pre">GamepadEvents</span></code> have can only be used by the <code class="docutils literal"><span class="pre">GamepadStickFlicked</span></code> event: <code class="docutils literal"><span class="pre">FlickDirection</span></code>, which returns a <code class="docutils literal"><span class="pre">Real2</span></code> of the direction the thumbstick moved in; and <code class="docutils literal"><span class="pre">FlickedStick</span></code>, which returns a reference to the thumbstick that dispatched the event. These can be used together to create movement mechanics very easily.</p>
<div class="highlight-chsarp"><div class="highlight"><pre><span></span>function OnGamepadStickFlicked(event : GamepadEvent)
{
    var movement = local Real3(0.0, 0.0, 0.0);

    // Assign the X and Y values of the moved thumbstick to the local movement variable
    movement.X += event.FlickDirection.X;
    movement.Y += event.FlickDirection.Y;

    //This uses the right thumbstick, while the left is 1
    if(event.FlickedStick == 2)
    {
        // &quot;Teleport&quot; to a further away location
        // note no Dt, so it&#39;ll be approx 60x further than normal
        this.Owner.RigidBody.Velocity = movement * this.Speed;
    }
}
</pre></div>
</div>
</div>
<div class="section" id="properties-and-methods-of-gamepads">
<h2>Properties and Methods of Gamepads</h2>
<ul class="simple">
<li><a class="reference internal" href="../../CodeReference/Reference/Gamepad.html#referencegamepad"><span>Gamepad Code Reference</span></a></li>
<li><a class="reference internal" href="../../CodeReference/Reference/Gamepads.html#referencegamepads"><span>Gamepads Code Reference</span></a></li>
</ul>
</div>
<div class="section" id="gamepad-events">
<h2>Gamepad Events</h2>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">GamepadUpdated</span></code> : <a class="reference internal" href="../../CodeReference/Reference/ObjectEvent.html#_CPPv211ObjectEvent" title="ObjectEvent"><code class="xref cpp cpp-type docutils literal"><span class="pre">ObjectEvent</span></code></a><ul>
<li>An event dispatched to an object whenever the Gamepad updates. Runs every frame.</li>
</ul>
</li>
<li><code class="docutils literal"><span class="pre">ButtonDown</span></code> : <a class="reference internal" href="../../CodeReference/Reference/GamepadEvent.html#_CPPv212GamepadEvent" title="GamepadEvent"><code class="xref cpp cpp-type docutils literal"><span class="pre">GamepadEvent</span></code></a><ul>
<li>An event dispatched when any button is pressed on the connected Gamepad.</li>
</ul>
</li>
<li><code class="docutils literal"><span class="pre">ButtonUp</span></code> : <a class="reference internal" href="../../CodeReference/Reference/GamepadEvent.html#_CPPv212GamepadEvent" title="GamepadEvent"><code class="xref cpp cpp-type docutils literal"><span class="pre">GamepadEvent</span></code></a><ul>
<li>An event dispatched when any button is released on the connected Gamepad.</li>
</ul>
</li>
<li><code class="docutils literal"><span class="pre">GamepadStickFlicked</span></code> : <a class="reference internal" href="../../CodeReference/Reference/GamepadEvent.html#_CPPv212GamepadEvent" title="GamepadEvent"><code class="xref cpp cpp-type docutils literal"><span class="pre">GamepadEvent</span></code></a><ul>
<li>An event dispatched when either thumbstick on the connected Gamepad is pushed forward more than halfway to its max.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="related-materials">
<span id="manualgamepadinputrelated"></span><h2>Related Materials</h2>
<div class="section" id="tutorial-pages">
<h3>Tutorial Pages</h3>
<ul class="simple">
<li><a class="reference internal" href="../../../Tutorials/Gameplay/Input/Gamepad.html#tutorialgamepad"><span>Gamepads</span></a></li>
</ul>
</div>
<div class="section" id="reference-pages">
<h3>Reference Pages</h3>
<ul class="simple">
<li><a class="reference internal" href="../../CodeReference/Reference/Gamepad.html#_CPPv27Gamepad" title="Gamepad"><code class="xref cpp cpp-type docutils literal"><span class="pre">Gamepad</span></code></a></li>
<li><a class="reference internal" href="../../CodeReference/Reference/Gamepads.html#_CPPv28Gamepads" title="Gamepads"><code class="xref cpp cpp-type docutils literal"><span class="pre">Gamepads</span></code></a></li>
<li><code class="xref cpp cpp-type docutils literal"><span class="pre">Real2</span></code></li>
<li><a class="reference internal" href="../../CodeReference/Reference/ObjectEvent.html#_CPPv211ObjectEvent" title="ObjectEvent"><code class="xref cpp cpp-type docutils literal"><span class="pre">ObjectEvent</span></code></a></li>
</ul>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../VectorMath/index.html" class="btn btn-neutral float-right" title="Vector Math" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="KeyboardInput.html" class="btn btn-neutral" title="Keyboard Input" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, DigiPen Institute of Technology.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org/">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../../cdn.mathjax.org/mathjax/latest/MathJaxdda6.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
<script src="../../../_static/js/extjquery.js"></script>



</body>

<!-- Mirrored from zero.digipen.edu/ZeroManual/Gameplay/Input/GamepadInput.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 28 Dec 2022 00:27:29 GMT -->
</html>